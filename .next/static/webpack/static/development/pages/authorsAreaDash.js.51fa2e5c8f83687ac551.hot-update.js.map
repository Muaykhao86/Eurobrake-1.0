{"version":3,"file":"static/webpack/static/development/pages/authorsAreaDash.js.51fa2e5c8f83687ac551.hot-update.js","sources":["webpack:///./pages/authorsAreaDash.js"],"sourcesContent":["import React, { Component, useState } from 'react'\nimport Router from 'next/router';\nimport cookies from 'next-cookies';\nimport cookie from 'js-cookie';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport styled from 'styled-components';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreOutlinedIcon from '@material-ui/icons/ExpandMoreOutlined';\nimport CreateIcon from '@material-ui/icons/Create';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { withAuthSync, logout, login } from '../utils/auth'\nimport HeroSection from '../components/HeroSection';\nimport { Button } from '../components/Button';\nimport { StyledBanner, StyledContainer } from '../components/styles/PageStyles';\nimport { GetForm } from '../components/forms/FormActions';\n\n\nconst StyledPage = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-self: center;\n    width: ${props => props.theme.minWidth};\n    background-color: ${props => props.theme.white};\n    margin-top: 7rem;\n\n      @media only screen \n  and (max-device-width: 768px) \n  and (-webkit-min-device-pixel-ratio: 2) { \n    width: ${props => props.theme.mobileWidth};    \n}\n    .authors{\n        color: ${props => props.theme.primary};\n        font-family: ${props => props.theme.MPLight};\n        font-size: 2rem;\n    &-title{\n        color: ${props => props.theme.primary};\n        font-family: ${props => props.theme.MPSemibold};\n        font-size: 4.4rem;\n        \n    }\n    &_sub-title{\n        color: ${props => props.theme.primary};\n        font-size: 3.5rem;\n        font-family: ${props => props.theme.MPLightIt};\n        padding-bottom: .5rem;\n    }\n    &-bold{\n        color: ${props => props.theme.primary};\n        font-family: ${props => props.theme.MPBold};\n    }\n    &-it{\n        font-family: ${props => props.theme.MPLightIt};\n    }\n    &_action-box{\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 3rem;\n    }\n}\n`;\n\nconst StyledBox = styled.div`\n    display: flex;\n    justify-content: space-between;\n    min-height: 15rem;\n    background-color: #D4DDE8;\n    padding: 1rem;\n    margin-bottom: 2rem;\n\n`;\n\nconst StyledActionArea = styled.div`\n    flex: 1 1 33.33%;\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    align-items: flex-start;\n\n    .action-paper{\n        color: ${props => props.theme.black};\n        font-family: ${props => props.theme.MPBold};\n        font-size: 2rem;\n    }\n`;\n\nconst StyledInfoArea = styled.div`\n    flex: 1 1 66.66%;\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    align-items: flex-start;\n\n    .paper-title{\n    font-size: 2rem;\n    color: ${props => props.theme.black};\n\n    }\n    .paper-type{\n    font-size: 2rem;\n    color: ${props => props.theme.black};\n    font-family: ${props => props.theme.MPLightIt};\n\n    }\n    .paper_task{\n    color: ${props => props.theme.black};\n    font-size: 1.5rem;\n\n    &-box{\n        display: flex;\n        align-items: flex-start;\n    }}\n`;\n\n\nconst FilledBanner = () => (\n\n    <StyledBanner>\n        <StyledContainer >\n            <Typography className=\"banner-heading\"  >Welcome to the Author's Area</Typography>\n            <Typography className=\"banner-sub\" sfs=\"3rem\">Submit your review ready papers by 26 January 2020</Typography>\n            <div className=\"banner_bottom\">\n                <ExpandMoreOutlinedIcon className=\"banner_bottom-icon\" />\n                <Typography varient=\"h3\" className=\"banner_bottom-details\">Submit your review ready papers by 26 January 2020</Typography>\n            </div>\n        </StyledContainer>\n    </StyledBanner>\n)\n\n\n\n\nclass AuthorsAreaDash extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            hasForm: false,\n            formData: undefined,\n            error: '',\n            editForm: false,\n            formType: '',\n            paper: '',\n        }\n    }\n\n    componentDidMount = () => {\n        const { userLoggedIn } = this.state;\n        const { logintoken } = cookie.get();\n        console.log('cdm', logintoken)\n        logintoken && !userLoggedIn ? this.setState(prev => ({\n            userLoggedIn: !prev\n        })) : null\n    }\n\n    \n\n    render() {\n        const papers = '';\n        // const { editForm, formType, paper } = this.state;\n        // const { firstname } = this.props.authorData.author;\n        // const { papers } = this.props.authorData;\n        // const data = this.props.authorData;\n        // console.log({ papers, data })\n        return (\n            <>\n\n                <HeroSection banner={FilledBanner} t=\"30rem\" max=\"55%\">\n                    Author's Area Dashboard\n            </HeroSection>\n                <StyledPage>\n                    <div className=\"authors\">\n\n                        {/* <Typography className=\"authors-title\">{`Hi ${firstname}`}</Typography> */}\n                        <Typography gutterBottom className=\"authors_sub-title\">Welcome to the Author's Area</Typography>\n                        <div className=\"authors_action-box\">\n                            {/* <Popup>\n                                <CreateIcon style={{ fontSize: '3rem', marginRight: '1rem' }} />\n                                UPLOAD FILE TEST\n                            </Popup> */}\n                            <Link href=\"/authorsAreaInstructions\">\n                                <Button\n                                    bcolor=\"#134381\"\n                                    padding=\"0.5rem 2rem\"\n                                    background=\"#134381\"\n                                    br=\"100rem\"\n                                    style={{ margin: \".5rem\" }}\n                                    fontSize=\"1.7rem\"\n                                >\n                                    <AssignmentIcon style={{ fontSize: '3rem', marginRight: '.5rem' }} />\n                                    INSTRUCTIONS & TEMPLATES\n                    </Button>\n                            </Link>\n\n                            <Button\n                                bcolor=\"#134381\"\n                                padding=\"0.5rem 2rem\"\n                                background=\"#134381\"\n                                br=\"100rem\"\n                                style={{ margin: \".5rem 0\" }}\n                                fontSize=\"1.7rem\"\n                                onClick={() => this.setState({ editForm: true, formType: 'author-edit' })}>\n                                <ExitToAppIcon style={{ fontSize: '3rem', marginRight: '.5rem' }} />\n                                Edit Profile\n                            </Button>\n\n                            <Button\n                                bcolor=\"#134381\"\n                                padding=\"0.5rem 2rem\"\n                                background=\"#134381\"\n                                br=\"100rem\"\n                                style={{ margin: \".5rem 0\" }}\n                                fontSize=\"1.7rem\"\n                                onClick={logout}>\n                                <ExitToAppIcon style={{ fontSize: '3rem', marginRight: '.5rem' }} />\n                                logout\n                    </Button>\n                        </div>\n                        <Typography gutterBottom className=\"authors-title\" style={{ fontSize: '3rem', borderTop: '2px solid #134381', borderBottom: '2px solid #134381' }}>Your paper</Typography>\n                        {\n                                papers ?\n\n                                    papers.map((paper) => (\n                                        <StyledBox key={paper.papercode}>\n                                            <StyledActionArea>\n                                                <Typography gutterBottom className=\"action-paper\">{paper.papercode}</Typography>\n                                                <Link href=\"/f/[id]\" as={`/f/${paper.papercode}`}>\n                                                <Button\n                                                    bcolor=\"#134381\"\n                                                    background=\"#134381\"\n                                                    br=\"100rem\"\n                                                    padding=\"0.5rem 2rem\"\n                                                    style={{ margin: \".5rem 0\" }}\n                                                    fontSize=\"1.7rem\">\n                                                    <CreateIcon style={{ fontSize: '3rem', marginRight: '1rem' }} />\n                                                    EDIT PAPER\n                                                </Button>\n                                                </Link>\n                                                <Button\n                                                    bcolor=\"#134381\"\n                                                    background=\"#134381\"\n                                                    br=\"100rem\"\n                                                    padding=\"0.5rem 2rem\"\n                                                    style={{ margin: \".5rem 0\" }}\n                                                    fontSize=\"1.7rem\"\n                                                    onClick={() => GetForm(`https://prelude.eurobrake.net/edit/${paper.papercode}`)}\n                                                >\n                                                    <CancelIcon style={{ fontSize: '3rem', marginRight: '1rem' }} />\n                                                    WITHDRAW\n                                                </Button>\n                                            </StyledActionArea>\n                                            <StyledInfoArea>\n                                                <Typography className=\"paper-title\">{paper.title}</Typography>\n                                                <Typography gutterBottom className=\"paper-type\">{paper.paper_type.toUpperCase()}</Typography>\n                                                {paper.tasks && paper.tasks.map(task => {\n                                                    return (<div className=\"paper_task-box\">\n                                                        {task.done === null ? <CheckCircleIcon style={{ fontSize: '2rem', color: 'green', marginRight: '1rem' }} /> : <CancelIcon style={{ fontSize: '2rem', color: 'red', marginRight: '1rem' }} />}\n                                                        <Typography gutterBottom className=\"paper_task\">{task.task}</Typography>\n                                                    </div>)\n                                                })}\n                                            </StyledInfoArea>\n                                        </StyledBox>\n                                    )) :\n                                    <StyledBox>\n                                        <Typography gutterBottom className=\"authors-it\" style={{ fontSize: '2rem' }}>You haven't submitted any abstracts yet</Typography>\n                                    </StyledBox>\n                        }\n                        <Typography gutterBottom className=\"authors\" style={{ fontSize: '2rem' }}>For more information, please visit <Link href=\"/authorsAreaInstructions\" ><a className=\"authors-bold\">Instructions & Templates</a></Link> or email <a className=\"authors-bold\" href=\"mailto:info@fisita.com\">info@eurobrake.net</a></Typography>\n\n                    </div>\n                </StyledPage>\n            </>\n\n        )\n\n    }\n}\n\n// AuthorsAreaDash.getInitialProps = async ctx => {\n//     // We use `nextCookie` to get the cookie and pass the token to the frontend in the `props`.\n//     const { logintoken } = cookies(ctx) || {};\n//     const apiUrl = 'https://prelude.eurobrake.net/dashboard ';\n//     const redirectOnError = () =>\n//         process.browser\n//             ? Router.push('/authorsArea')\n//             : ctx.res.writeHead(301, { Location: '/authorsArea' })\n//     if (logintoken) {\n//         try {\n//             // console.log({logintoken}, 'getIProps right before fetch call')\n//             // headers: {\n//             //     Authorization: 'Bearer ' + logintoken,\n//             // }\n//             const response = await fetch(apiUrl, {\n//                 credentials: 'include',\n//                 cache: 'no-cache',\n//                 headers: {\n//                     Authorization: 'Bearer ' + logintoken,\n//                 }\n\n//             })\n//             const data = await response.json()\n//             // console.log('Authors response Data =>', data.status, data);\n//             if (data.status === 'success') {\n//                 console.log('res.ok', data)\n//                 return { authorData: data }\n//             }\n//             else {\n//                 console.log('not reading success')\n//                 console.log('stringyfied', JSON.stringify(data))\n//                 // https://github.com/developit/unfetch#caveats\n//                 return redirectOnError()\n//             }\n//         } catch (error) {\n//             // Implementation or Network error\n//             console.log(error)\n//             return await redirectOnError()\n//         }\n//     }\n\n// }\n// ! local host editing\n// export default withAuthSync(AuthorsAreaDash)\nexport default AuthorsAreaDash\n\n\n// !\n// ?\n// *\n// todo"],"mappings":"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","sourceRoot":""}