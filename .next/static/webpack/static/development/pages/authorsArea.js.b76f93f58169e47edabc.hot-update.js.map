{"version":3,"file":"static/webpack/static/development/pages/authorsArea.js.b76f93f58169e47edabc.hot-update.js","sources":["webpack:///./components/Popup.js"],"sourcesContent":["import React, { createRef } from 'react';\nimport { Button } from './Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport {GetForm, SendFile} from './forms/FormActions';\n\n\nexport default function FilePopup(props) {\n  const [open, setOpen] = React.useState(false);\n  const [csrf, setCsrf] = React.useState();\n  const fileInput = React.createRef();\n\n  const handleClickOpen = async () => {\n   await setOpen(true);\n    const getCsrf = await GetForm('https://prelude.eurobrake.net/upload');\n   await  setCsrf(getCsrf);\n\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n\n  const handleSubmit = async (e) => { \n    e.preventDefault();\n    const file = await fileInput.current.files[0];\n    await console.log({file, csrf});\n    await SendFile({file, csrf});\n    await alert(\n      `Selected file - ${\n      fileInput.current.files[0].name\n      }`\n    );\n    \n  }\n\n  return (\n    <div>\n        <Button\n          bcolor=\"#134381\"\n          background=\"#134381\"\n          br=\"100rem\"\n          padding=\"0.5rem 2rem\"\n          style={{ margin: \".5rem 0\" }}\n          fontSize=\"1.7rem\"\n          onClick={handleClickOpen}>\n          Upload File\n      </Button>\n        <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <form>\n          <DialogTitle id=\"form-dialog-title\">Upload File</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              Please do not exceed 50mb file size example\n          </DialogContentText>\n            <input type=\"file\" ref={fileInput}/>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} value=\"cancel\" color=\"#134381\" bcolor=\"#134381\">\n              Cancel\n          </Button>\n            <Button  onClick={() => handleSubmit(e)} color=\"#134381\" bcolor=\"#134381\">\n              Submit\n          </Button>\n          </DialogActions>\n      </form>\n        </Dialog>\n    </div>\n  );\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AAGA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAYA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;A","sourceRoot":""}