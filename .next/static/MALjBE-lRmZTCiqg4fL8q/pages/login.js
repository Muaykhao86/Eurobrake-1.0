(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"9Jkg":function(e,t,n){e.exports=n("oh+g")},O2ls:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return y});var r=n("ln6h"),a=n.n(r),o=n("eVuF"),u=n.n(o),i=n("9Jkg"),s=n.n(i),c=n("O40h"),l=n("0iUn"),p=n("sLSF"),f=n("MI3g"),h=n("a7VT"),d=n("AT/M"),m=n("Tit0"),b=n("vYYK"),v=n("q1tI"),g=n.n(v),w=n("vOnD"),O=g.a.createElement,x=w.c.div.withConfig({displayName:"login__DemoDiv",componentId:"cxdurq-0"})(["display:flex;flex-direction:column;align-self:center;max-width:",";"],function(e){return e.theme.maxWidth}),y=(w.c.h1.withConfig({displayName:"login__Demo",componentId:"cxdurq-1"})(["padding:10rem;margin:5rem;color:orangered;"]),function(e){function t(e){var n;return Object(l.a)(this,t),n=Object(f.a)(this,Object(h.a)(t).call(this,e)),Object(b.a)(Object(d.a)(n),"saveToState",function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))}),Object(b.a)(Object(d.a)(n),"onSubmit",function(){var e=Object(c.a)(a.a.mark(function e(t){var r,o,i,c,l,p,f,h;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.state,o=r.authorLogin,r.uesername,i=r.password,r.error,c=o?"https://prelude.eurobrake.net/login":"",console.log("click"),l={username:username,password:i},e.prev=5,e.next=8,fetch(c,{method:"POST",credentials:"include",body:s()(l)});case 8:if(!(p=e.sent).ok){e.next=16;break}return e.next=12,p.json();case 12:return f=e.sent,e.abrupt("return",{loggedIn:f});case 16:return console.log("login failed"),(h=new Error(p.statusText)).response=p,e.abrupt("return",u.a.reject(h));case 20:e.next=26;break;case 22:throw e.prev=22,e.t0=e.catch(5),console.error("Failed to login, please try again",e.t0),new Error(e.t0);case 26:case"end":return e.stop()}},e,null,[[5,22]])}));return function(t){return e.apply(this,arguments)}}()),n.state={username:"",password:"",authorLogin:!0,error:""},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){console.log(this.props);var e=this.props.form.form;return O(x,{onSubmit:this.onSubmit},O("div",{className:""},O("label",{htmlFor:"label"},e[0].label),O("input",{type:"text",name:e[0].name,onChange:this.saveToState,value:this.state.username})),O("div",{className:""},O("label",{htmlFor:"label"},e[1].label),O("input",{type:"password",name:e[1].name,onChange:this.saveToState,value:this.state.password})),O("input",{type:"submit",value:"Submit"}))}}]),t}(v.Component));Object(b.a)(y,"getInitialProps",function(){var e=Object(c.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch("https://prelude.eurobrake.net/dashboard");case 3:return n=e.sent,e.next=6,n.json().catch(function(e){return console.log(e)});case 6:return r=e.sent,e.abrupt("return",{form:r});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},O40h:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("eVuF"),a=n.n(r);function o(e,t,n,r,o,u,i){try{var s=e[u](i),c=s.value}catch(l){return void n(l)}s.done?t(c):a.a.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new a.a(function(r,a){var u=e.apply(t,n);function i(e){o(u,r,a,i,s,"next",e)}function s(e){o(u,r,a,i,s,"throw",e)}i(void 0)})}}},"oh+g":function(e,t,n){var r=n("WEpk"),a=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},u6Hu:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n("O2ls")}])},vYYK:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("hfKm"),a=n.n(r);function o(e,t,n){return t in e?a()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}}},[["u6Hu",1,0]]]);