{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { createRef } from 'react';\nimport { Button } from './Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { GetForm, SendFile } from './Forms';\nexport default function Popup(props) {\n  const [open, setOpen] = React.useState(false);\n  const [csrf, setCsrf] = React.useState();\n  const fileInput = React.createRef();\n\n  const handleClickOpen = async () => {\n    await setOpen(true);\n    const getCsrf = await GetForm('https://prelude.eurobrake.net/upload');\n    await setCsrf(getCsrf);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const file = await fileInput.current.files[0];\n    await console.log({\n      file,\n      csrf\n    });\n    await SendFile({\n      file,\n      csrf\n    });\n    await alert(`Selected file - ${fileInput.current.files[0].name}`);\n  };\n\n  return __jsx(\"div\", null, __jsx(Button, {\n    bcolor: \"#134381\",\n    background: \"#134381\",\n    br: \"100rem\",\n    padding: \"0.5rem 2rem\",\n    style: {\n      margin: \".5rem 0\"\n    },\n    fontSize: \"1.7rem\",\n    onClick: handleClickOpen\n  }, \"Upload File\"), __jsx(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\"\n  }, __jsx(\"form\", null, __jsx(DialogTitle, {\n    id: \"form-dialog-title\"\n  }, \"Upload File\"), __jsx(DialogContent, null, __jsx(DialogContentText, null, \"Please do not exceed 50mb file size example\"), __jsx(\"input\", {\n    type: \"file\",\n    ref: fileInput\n  })), __jsx(DialogActions, null, __jsx(Button, {\n    onClick: handleClose,\n    value: \"cancel\",\n    color: \"#134381\",\n    bcolor: \"#134381\"\n  }, \"Cancel\"), __jsx(Button, {\n    onClick: () => handleSubmit(e),\n    color: \"#134381\",\n    bcolor: \"#134381\"\n  }, \"Submit\")))));\n}","map":null,"metadata":{},"sourceType":"module"}