{"ast":null,"code":"import React, { Component, useState, useRef, useEffect } from 'react';\nimport { Formik, Form, Field, FieldArray, FastField, ErrorMessage } from 'formik';\nimport { TextField, RadioGroup, Select, Checkbox } from 'formik-material-ui';\nimport { AddCircle, RemoveCircle, ArrowUpwardRounded, ArrowDownwardRounded } from '@material-ui/icons';\nimport { Typography, Input } from '@material-ui/core';\nimport * as Yup from 'yup';\nimport cookie from 'js-cookie';\nimport styled from 'styled-components';\nimport { Button } from '../Button';\nexport async function GetForm(url) {\n  const {\n    logintoken\n  } = cookie.get();\n  console.log({\n    logintoken\n  });\n\n  try {\n    const apiUrl = url;\n    const response = await fetch(apiUrl, {\n      credentials: 'include',\n      headers: {\n        Authorization: 'Bearer ' + logintoken\n      }\n    });\n    const data = await response.json();\n\n    if (data.status === 'success') {\n      console.log('getForm', data);\n      console.log('tkn', data.__csrf_token);\n      return data;\n    } else {\n      let error = new Error(data.error);\n      error.response = response;\n      throw error;\n    }\n  } catch (error) {\n    console.error('Failed to get form, please try again', error); // return error.message\n  }\n\n  return;\n}","map":null,"metadata":{},"sourceType":"module"}