{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/mnt/c/Users/D.Hardiman/desktop/eurobrake/pages/authors/dashboard.js\";\nvar __jsx = React.createElement;\nimport React, { Component, useState } from 'react';\nimport Router from 'next/router';\nimport cookies from 'next-cookies';\nimport cookie from 'js-cookie';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport styled from 'styled-components';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreOutlinedIcon from '@material-ui/icons/ExpandMoreOutlined';\nimport CreateIcon from '@material-ui/icons/Create';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport { withAuthSync, logout, login } from '../../utils/auth';\nimport HeroSection from '../../components/HeroSection';\nimport { Button } from '../../components/Button';\nimport { StyledBanner, StyledContainer } from '../../components/styles/PageStyles';\nimport { GetForm, SendForm } from '../../components/forms/FormActions';\nimport { FixedDates, FixedBox } from '../../components/Dates';\nimport WithdrawPopup from '../../components/WithdrawPopup';\nconst StyledPage = styled.div.withConfig({\n  displayName: \"dashboard__StyledPage\",\n  componentId: \"r43xca-0\"\n})([\"display:flex;flex-direction:column;align-self:center;width:\", \";background-color:\", \";margin-top:7rem;@media only screen  and (max-device-width:768px)  and (-webkit-min-device-pixel-ratio:2){width:\", \";}.authors{color:\", \";font-family:\", \";font-size:2rem;&-title{color:\", \";font-family:\", \";font-size:4.4rem;}&_sub-title{color:\", \";font-size:3.5rem;font-family:\", \";padding-bottom:.5rem;}&-bold{color:\", \";font-family:\", \";}&-it{font-family:\", \";}&_action-box{display:flex;justify-content:flex-start;margin-bottom:3rem;}}\"], props => props.theme.minWidth, props => props.theme.white, props => props.theme.mobileWidth, props => props.theme.primary, props => props.theme.MPLight, props => props.theme.primary, props => props.theme.MPSemibold, props => props.theme.primary, props => props.theme.MPLightIt, props => props.theme.primary, props => props.theme.MPBold, props => props.theme.MPLightIt);\nconst StyledBox = styled.div.withConfig({\n  displayName: \"dashboard__StyledBox\",\n  componentId: \"r43xca-1\"\n})([\"display:flex;justify-content:space-between;min-height:15rem;background-color:#D4DDE8;padding:1rem;margin-bottom:2rem;\"]);\nconst StyledActionArea = styled.div.withConfig({\n  displayName: \"dashboard__StyledActionArea\",\n  componentId: \"r43xca-2\"\n})([\"flex:1 1 30%;margin-right:1rem;display:flex;flex-flow:column;justify-content:space-between;align-items:flex-start;.action-paper{color:\", \";font-family:\", \";font-size:2rem;}\"], props => props.theme.black, props => props.theme.MPBold);\nconst StyledInfoArea = styled.div.withConfig({\n  displayName: \"dashboard__StyledInfoArea\",\n  componentId: \"r43xca-3\"\n})([\"flex:1 1 70%;display:flex;flex-flow:column;justify-content:space-between;align-items:flex-start;.paper-summary{align-self:flex-start;justify-items:flex-start;}.paper-title{font-size:2rem;color:\", \";}.paper-type{font-size:1.5rem;color:\", \";font-family:\", \";}.paper_task{cursor:pointer;color:\", \";font-size:1.5rem;font-family:\", \";&-text{font-size:1.5rem;align-self:flex-start;color:black;font-family:\", \";}&-date{font-size:1.5rem;align-self:flex-end;color:red;font-family:\", \";}}\"], props => props.theme.MPRegular, props => props.theme.black, props => props.theme.MPLightIt, props => props.theme.black, props => props.theme.MPRegular, props => props.theme.MPRegular, props => props.theme.MPRegular);\nconst StyledCell = styled(TableCell).withConfig({\n  displayName: \"dashboard__StyledCell\",\n  componentId: \"r43xca-4\"\n})([\"&&.MuiTableCell-root{border-bottom:0;padding:0rem;}\"]);\n\nconst FilledBanner = () => __jsx(StyledBanner, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 159\n  },\n  __self: this\n}, __jsx(StyledContainer, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 160\n  },\n  __self: this\n}, __jsx(Typography, {\n  className: \"banner-heading\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 161\n  },\n  __self: this\n}, \"Welcome to the Author's Area\"), __jsx(Typography, {\n  className: \"banner-sub\",\n  sfs: \"3rem\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 162\n  },\n  __self: this\n}, \"Submit your review ready papers by 26 January 2020\"), __jsx(\"div\", {\n  className: \"banner_bottom\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 163\n  },\n  __self: this\n}, __jsx(ExpandMoreOutlinedIcon, {\n  className: \"banner_bottom-icon\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 164\n  },\n  __self: this\n}), __jsx(Typography, {\n  varient: \"h3\",\n  className: \"banner_bottom-details\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 165\n  },\n  __self: this\n}, \"Submit your review ready papers by 26 January 2020\"))));\n\nclass AuthorsAreaDash extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"componentDidMount\", () => {\n      const {\n        userLoggedIn\n      } = this.state;\n      const {\n        logintoken\n      } = cookie.get();\n      console.log('cdm', logintoken);\n      logintoken && !userLoggedIn ? this.setState(prev => ({\n        userLoggedIn: !prev\n      })) : null;\n    });\n\n    _defineProperty(this, \"pad\", n => {\n      return n < '10' ? '0' + n : n;\n    });\n\n    _defineProperty(this, \"handleWithdrawn\", async ({\n      papercode\n    }) => {\n      await this.setState(loading => ({\n        loading: !loading\n      }));\n      const FT = 'withdraw';\n      const url = `https://prelude.eurobrake.net/authors/withdraw/${papercode}`;\n      const getCSRF = await GetForm(url);\n      const csrf = await getCSRF.__csrf_token;\n      await this.setState({\n        values: {\n          __csrf_token: csrf\n        }\n      });\n      return csrf;\n    });\n\n    this.state = {\n      hasForm: false,\n      formData: undefined,\n      error: '',\n      editForm: false,\n      formType: '',\n      paper: '',\n      loading: 'false',\n      status: undefined,\n      values: {\n        __csrf_token: ''\n      }\n    };\n  }\n\n  render() {\n    // const papers = '';\n    const monthNames = [\"January\", \"Febuary\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    const {\n      editForm,\n      formType,\n      values\n    } = this.state;\n    const {\n      firstname\n    } = this.props.authorData.author;\n    const {\n      papers\n    } = this.props.authorData;\n    const data = this.props.authorData;\n    console.log({\n      papers,\n      data\n    });\n    return __jsx(React.Fragment, null, __jsx(HeroSection, {\n      banner: FilledBanner,\n      max: \"55%\",\n      src: \"https://live.staticflickr.com/65535/48016203938_fe5254376c_b.jpg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"Author's Area Dashboard\"), __jsx(StyledPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, __jsx(FixedDates, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }), __jsx(FixedBox, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      className: \"authors\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, __jsx(Typography, {\n      className: \"authors-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, `Hi ${firstname}`), __jsx(Typography, {\n      gutterBottom: true,\n      className: \"authors_sub-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"Welcome to the Author's Area\"), __jsx(\"div\", {\n      className: \"authors_action-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, __jsx(Link, {\n      href: \"/authorsAreaInstructions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, __jsx(Button, {\n      bcolor: \"#134381\",\n      padding: \"0.5rem 2rem\",\n      background: \"#134381\",\n      br: \"100rem\",\n      style: {\n        margin: \"0 .5rem\"\n      },\n      fontSize: \"1.7rem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, __jsx(AssignmentIcon, {\n      style: {\n        fontSize: '3rem',\n        marginRight: '.5rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }), \"INSTRUCTIONS & TEMPLATES\")), __jsx(Link, {\n      href: \"/f/[id]/[formType]\",\n      as: `/f/profile/author`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, __jsx(Button, {\n      bcolor: \"#134381\",\n      padding: \"0.5rem 2rem\",\n      background: \"#134381\",\n      br: \"100rem\",\n      style: {\n        margin: \"0 .5rem\"\n      },\n      fontSize: \"1.7rem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, __jsx(ExitToAppIcon, {\n      style: {\n        fontSize: '3rem',\n        marginRight: '.5rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }), \"Edit Profile\")), __jsx(Button, {\n      bcolor: \"#134381\",\n      padding: \"0.5rem 2rem\",\n      background: \"#134381\",\n      br: \"100rem\",\n      style: {\n        margin: \"0 .5rem \"\n      },\n      fontSize: \"1.7rem\",\n      onClick: logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, __jsx(ExitToAppIcon, {\n      style: {\n        fontSize: '3rem',\n        marginRight: '.5rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }), \"logout\")), __jsx(Typography, {\n      gutterBottom: true,\n      className: \"authors-title\",\n      style: {\n        fontSize: '3rem',\n        borderTop: '2px solid #134381',\n        borderBottom: '2px solid #134381'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \"Your submission(s)\"), papers ? papers.map(paper => {\n      const papercode = paper.papercode;\n      return __jsx(StyledBox, {\n        key: papercode,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, __jsx(StyledActionArea, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, __jsx(Typography, {\n        gutterBottom: true,\n        className: \"action-paper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, papercode), __jsx(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, paper.withdrawn ? __jsx(Typography, {\n        className: \"action-paper\",\n        style: {\n          color: \"#ff0000\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, \"WITHDRAWN\") : __jsx(React.Fragment, null, __jsx(Link, {\n        href: \"/f/[id]/[formType]\",\n        as: `/f/${papercode}/abstract`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, __jsx(Button, {\n        bcolor: \"#134381\",\n        background: \"#134381\",\n        br: \"100rem\",\n        padding: \"0.5rem 2rem\",\n        style: {\n          margin: \".5rem 0\"\n        },\n        fontSize: \"1.7rem\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, __jsx(CreateIcon, {\n        style: {\n          fontSize: '3rem',\n          marginRight: '1rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }), \"EDIT PAPER\")), __jsx(WithdrawPopup, {\n        values: values,\n        url: `https://prelude.eurobrake.net/authors/withdraw/${papercode}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, __jsx(Button, {\n        onClick: () => this.handleWithdrawn({\n          papercode\n        }),\n        bcolor: \"#134381\",\n        background: \"#134381\",\n        br: \"100rem\",\n        padding: \"0.5rem 2rem\",\n        style: {\n          margin: \".5rem 0\"\n        },\n        fontSize: \"1.7rem\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, __jsx(CancelIcon, {\n        style: {\n          fontSize: '3rem',\n          marginRight: '1rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }), \"withdraw\"))))), __jsx(StyledInfoArea, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"paper-summary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, __jsx(Typography, {\n        className: \"paper-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, paper.title), __jsx(Typography, {\n        gutterBottom: true,\n        className: \"paper-type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, paper.paper_type === 'full' ? paper.paper_type.toUpperCase() + ' ' + '+' + ' ' + paper.presentation_type.toUpperCase() : paper.paper_type.toUpperCase())), __jsx(Table, {\n        className: \"\",\n        \"aria-label\": \"simple table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, __jsx(TableBody, {\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, paper.tasks && paper.tasks.map(task => {\n        let dueDate = new Date('2020-01-26T00:00:00');\n        let doneDate = new Date('2020-01-17T19:03:17');\n        let taskDate = dueDate.getDate();\n        let dateDone = doneDate.getDate();\n        let taskMonth = dueDate.getMonth();\n        let monthDone = doneDate.getMonth();\n        let taskYear = dueDate.getFullYear();\n        let yearDone = doneDate.getFullYear();\n        let niceDate = this.pad(taskDate);\n        let niceDone = this.pad(dateDone);\n        {\n          /* let prettierDate = this.prettyDate(niceDate); */\n        }\n        {\n          /* let prettierDone = this.prettyDate(niceDone); */\n        }\n        let niceMonth = monthNames[taskMonth];\n        let niceMonthDone = monthNames[monthDone]; // todo CHECK THE RIGHT DATES!\n\n        return __jsx(TableRow, {\n          key: task.task,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 373\n          },\n          __self: this\n        }, __jsx(StyledCell, {\n          component: \"th\",\n          scope: \"row\",\n          className: \"\",\n          style: {\n            width: '10%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 374\n          },\n          __self: this\n        }, task.done !== null ? __jsx(CheckCircleIcon, {\n          style: {\n            fontSize: '2rem',\n            color: 'green',\n            marginRight: '1rem'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 375\n          },\n          __self: this\n        }) : __jsx(CancelIcon, {\n          style: {\n            fontSize: '2rem',\n            color: 'red',\n            marginRight: '1rem'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 375\n          },\n          __self: this\n        })), __jsx(StyledCell, {\n          align: \"left\",\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 376\n          },\n          __self: this\n        }, __jsx(Link, {\n          href: \"/t/[id]/[taskType]\",\n          as: `/t/${paper.papercode}/${task.type}`,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 377\n          },\n          __self: this\n        }, __jsx(Typography, {\n          gutterBottom: true,\n          className: \"paper_task-text\",\n          style: {\n            width: '75%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 380\n          },\n          __self: this\n        }, task.task))), __jsx(StyledCell, {\n          align: \"left\",\n          className: \"paper_task-date\",\n          style: {\n            width: '26%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 382\n          },\n          __self: this\n        }, task.done == null ? 'Due' : niceDone + \" \" + niceMonthDone + \" \" + yearDone), __jsx(StyledCell, {\n          align: \"left\",\n          className: \"paper_task-date\",\n          style: {\n            width: '26%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 383\n          },\n          __self: this\n        }, niceDate + \" \" + niceMonth + \" \" + taskYear));\n      })))));\n    }) : __jsx(StyledBox, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }, __jsx(Typography, {\n      gutterBottom: true,\n      className: \"authors-it\",\n      style: {\n        fontSize: '2rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }, \"You haven't submitted any abstracts yet\")), __jsx(Typography, {\n      gutterBottom: true,\n      className: \"authors\",\n      style: {\n        fontSize: '2rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, \"For more information, please visit \", __jsx(Link, {\n      href: \"/authorsAreaInstructions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      className: \"authors-bold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, \"Instructions & Templates\")), \" or email \", __jsx(\"a\", {\n      className: \"authors-bold\",\n      href: \"mailto:info@fisita.com\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, \"info@eurobrake.net\")))));\n  }\n\n} // ! STILL PUSHING TO HOME WHEN WE WANT TOPUSHTO aUTHORS AREA LOGIN => on fault\n\n\nAuthorsAreaDash.getInitialProps = async ctx => {\n  // We use `nextCookie` to get the cookie and pass the token to the frontend in the `props`.\n  const {\n    logintoken\n  } = cookies(ctx) || {};\n  const apiUrl = 'https://prelude.eurobrake.net/authors/dashboard ';\n\n  const redirectOnError = async () => {\n    let count = 0;\n\n    if (count < 3) {\n      await count++;\n      (await process.browser) ? Router.push('/authors') : ctx.res.writeHead(301, {\n        Location: '/authors'\n      });\n    } else {\n      await logout();\n    }\n  };\n\n  console.log('AAD', logintoken);\n\n  if (logintoken) {\n    try {\n      const response = await fetch(apiUrl, {\n        credentials: 'include',\n        cache: 'no-cache',\n        headers: {\n          Authorization: 'Bearer ' + logintoken\n        }\n      });\n      const data = await response.json();\n      console.log({\n        data\n      }); // console.log('Authors response Data =>', data.status, data);\n\n      if (data.status === 'success') {\n        console.log('res.ok', data);\n        return {\n          authorData: data\n        };\n      } else {\n        console.log('not reading success');\n        console.log('stringyfied', _JSON$stringify(data)); // https://github.com/developit/unfetch#caveats\n\n        return redirectOnError();\n      }\n    } catch (error) {\n      // Implementation or Network error\n      console.log(error);\n      return await redirectOnError();\n    }\n  }\n}; // ! local host editing\n\n\nexport default withAuthSync(AuthorsAreaDash); // export default AuthorsAreaDash\n// !\n// ?\n// *\n// todo","map":{"version":3,"sources":["/mnt/c/Users/D.Hardiman/desktop/eurobrake/pages/authors/dashboard.js"],"names":["React","Component","useState","Router","cookies","cookie","Link","fetch","styled","Typography","ExpandMoreOutlinedIcon","CreateIcon","AssignmentIcon","ExitToAppIcon","CheckCircleIcon","CancelIcon","Table","TableBody","TableCell","TableRow","withAuthSync","logout","login","HeroSection","Button","StyledBanner","StyledContainer","GetForm","SendForm","FixedDates","FixedBox","WithdrawPopup","StyledPage","div","props","theme","minWidth","white","mobileWidth","primary","MPLight","MPSemibold","MPLightIt","MPBold","StyledBox","StyledActionArea","black","StyledInfoArea","MPRegular","StyledCell","FilledBanner","AuthorsAreaDash","constructor","userLoggedIn","state","logintoken","get","console","log","setState","prev","n","papercode","loading","FT","url","getCSRF","csrf","__csrf_token","values","hasForm","formData","undefined","error","editForm","formType","paper","status","render","monthNames","firstname","authorData","author","papers","data","margin","fontSize","marginRight","borderTop","borderBottom","map","withdrawn","color","handleWithdrawn","title","paper_type","toUpperCase","presentation_type","width","tasks","task","dueDate","Date","doneDate","taskDate","getDate","dateDone","taskMonth","getMonth","monthDone","taskYear","getFullYear","yearDone","niceDate","pad","niceDone","niceMonth","niceMonthDone","done","type","getInitialProps","ctx","apiUrl","redirectOnError","count","process","browser","push","res","writeHead","Location","response","credentials","cache","headers","Authorization","json"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react'\nimport Router from 'next/router';\nimport cookies from 'next-cookies';\nimport cookie from 'js-cookie';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport styled from 'styled-components';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreOutlinedIcon from '@material-ui/icons/ExpandMoreOutlined';\nimport CreateIcon from '@material-ui/icons/Create';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport { withAuthSync, logout, login } from '../../utils/auth'\nimport HeroSection from '../../components/HeroSection';\nimport { Button } from '../../components/Button';\nimport { StyledBanner, StyledContainer } from '../../components/styles/PageStyles';\nimport { GetForm, SendForm } from '../../components/forms/FormActions';\nimport { FixedDates, FixedBox } from '../../components/Dates';\nimport WithdrawPopup from '../../components/WithdrawPopup';\n\n\nconst StyledPage = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-self: center;\n    width: ${props => props.theme.minWidth};\n    background-color: ${props => props.theme.white};\n    margin-top: 7rem;\n\n      @media only screen \n  and (max-device-width: 768px) \n  and (-webkit-min-device-pixel-ratio: 2) { \n    width: ${props => props.theme.mobileWidth};    \n}\n    .authors{\n        color: ${props => props.theme.primary};\n        font-family: ${props => props.theme.MPLight};\n        font-size: 2rem;\n    &-title{\n        color: ${props => props.theme.primary};\n        font-family: ${props => props.theme.MPSemibold};\n        font-size: 4.4rem;\n    }\n\n    &_sub-title{\n        color: ${props => props.theme.primary};\n        font-size: 3.5rem;\n        font-family: ${props => props.theme.MPLightIt};\n        padding-bottom: .5rem;\n    }\n    &-bold{\n        color: ${props => props.theme.primary};\n        font-family: ${props => props.theme.MPBold};\n    }\n    &-it{\n        font-family: ${props => props.theme.MPLightIt};\n    }\n    &_action-box{\n        display: flex;\n        justify-content: flex-start;\n        margin-bottom: 3rem;\n    }\n}\n`;\n\nconst StyledBox = styled.div`\n    display: flex;\n    justify-content: space-between;\n    min-height: 15rem;\n    background-color: #D4DDE8;\n    padding: 1rem;\n    margin-bottom: 2rem;\n\n`;\n\nconst StyledActionArea = styled.div`\n    flex: 1 1 30%;\n    margin-right: 1rem;\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    align-items: flex-start;\n\n    .action-paper{\n        color: ${props => props.theme.black};\n        font-family: ${props => props.theme.MPBold};\n        font-size: 2rem;\n    }\n`;\n\nconst StyledInfoArea = styled.div`\n    flex: 1 1 70%;\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    align-items: flex-start;\n\n    \n    \n    .paper-summary{\n        align-self: flex-start;\n        justify-items: flex-start;\n    }\n\n    .paper-title{\n    font-size: 2rem;\n    color: ${props => props.theme.MPRegular};\n\n    }\n    .paper-type{\n    font-size: 1.5rem;\n    color: ${props => props.theme.black};\n    font-family: ${props => props.theme.MPLightIt};\n\n    }\n    .paper_task{\n        cursor: pointer;\n    color: ${props => props.theme.black};\n    font-size: 1.5rem;\n    font-family: ${props => props.theme.MPRegular};\n\n    &-text{\n\n        font-size: 1.5rem;\n        align-self: flex-start;\n        color: black;\n        font-family: ${props => props.theme.MPRegular};\n    }\n   \n\n    &-date{\n\n        font-size: 1.5rem;\n        align-self: flex-end;\n        color: red;\n        font-family: ${props => props.theme.MPRegular};\n\n    }\n    }\n`;\n\nconst StyledCell = styled(TableCell)`\n  &&.MuiTableCell-root {\n    border-bottom: 0;\n    padding: 0rem;\n    }\n\n\n`;\n\nconst FilledBanner = () => (\n\n    <StyledBanner>\n        <StyledContainer >\n            <Typography className=\"banner-heading\"  >Welcome to the Author's Area</Typography>\n            <Typography className=\"banner-sub\" sfs=\"3rem\">Submit your review ready papers by 26 January 2020</Typography>\n            <div className=\"banner_bottom\">\n                <ExpandMoreOutlinedIcon className=\"banner_bottom-icon\" />\n                <Typography varient=\"h3\" className=\"banner_bottom-details\">Submit your review ready papers by 26 January 2020</Typography>\n            </div>\n        </StyledContainer>\n    </StyledBanner>\n)\n\n\n\n\nclass AuthorsAreaDash extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            hasForm: false,\n            formData: undefined,\n            error: '',\n            editForm: false,\n            formType: '',\n            paper: '',\n            loading: 'false',\n            status: undefined,\n            values: {\n                __csrf_token: ''\n            },\n        }\n    }\n\n    componentDidMount = () => {\n        const { userLoggedIn } = this.state;\n        const { logintoken } = cookie.get();\n        console.log('cdm', logintoken)\n        logintoken && !userLoggedIn ? this.setState(prev => ({\n            userLoggedIn: !prev\n        })) : null\n    }\n\n    pad = (n) => {\n      return  n < '10' ? '0'+ n : n  \n    }\n\n    handleWithdrawn = async ({papercode}) => {\n       await  this.setState(loading => ({loading: !loading}));\n        const FT = 'withdraw'\n        const url = `https://prelude.eurobrake.net/authors/withdraw/${papercode}`;\n        const getCSRF = await GetForm(url)\n        const csrf = await getCSRF.__csrf_token\n        await this.setState({values: {__csrf_token: csrf}})\n        \n        \n        return csrf\n\n    }\n\n \n\n    render() {\n      \n        // const papers = '';\n        const monthNames = [\"January\", \"Febuary\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]\n        const { editForm, formType, values } = this.state;\n        const { firstname } = this.props.authorData.author;\n        const { papers } = this.props.authorData;\n        const data = this.props.authorData;\n        console.log({ papers, data })\n        return (\n            <>\n                <HeroSection banner={FilledBanner} max=\"55%\" src=\"https://live.staticflickr.com/65535/48016203938_fe5254376c_b.jpg\">\n\n                    Author's Area Dashboard\n            </HeroSection>\n                <StyledPage>\n                    <FixedDates />\n                    <FixedBox />\n\n                    <div className=\"authors\">\n\n                        <Typography className=\"authors-title\">{`Hi ${firstname}`}</Typography>\n                        <Typography gutterBottom className=\"authors_sub-title\">Welcome to the Author's Area</Typography>\n                        <div className=\"authors_action-box\">\n                            <Link href=\"/authorsAreaInstructions\">\n                                <Button\n                                    bcolor=\"#134381\"\n                                    padding=\"0.5rem 2rem\"\n                                    background=\"#134381\"\n                                    br=\"100rem\"\n                                    style={{ margin: \"0 .5rem\" }}\n                                    fontSize=\"1.7rem\"\n                                >\n                                    <AssignmentIcon style={{ fontSize: '3rem', marginRight: '.5rem' }} />\n                                    INSTRUCTIONS & TEMPLATES\n                    </Button>\n                            </Link>\n\n                            <Link href=\"/f/[id]/[formType]\" as={`/f/profile/author`}>\n                                <Button\n                                    bcolor=\"#134381\"\n                                    padding=\"0.5rem 2rem\"\n                                    background=\"#134381\"\n                                    br=\"100rem\"\n                                    style={{ margin: \"0 .5rem\" }}\n                                    fontSize=\"1.7rem\">\n                                    <ExitToAppIcon style={{ fontSize: '3rem', marginRight: '.5rem' }} />\n                                    Edit Profile\n                            </Button>\n                            </Link>\n\n                            <Button\n                                bcolor=\"#134381\"\n                                padding=\"0.5rem 2rem\"\n                                background=\"#134381\"\n                                br=\"100rem\"\n                                style={{ margin: \"0 .5rem \" }}\n                                fontSize=\"1.7rem\"\n                                onClick={logout}>\n                                <ExitToAppIcon style={{ fontSize: '3rem', marginRight: '.5rem' }} />\n                                logout\n                    </Button>\n                        </div>\n                        <Typography gutterBottom className=\"authors-title\" style={{ fontSize: '3rem', borderTop: '2px solid #134381', borderBottom: '2px solid #134381' }}>Your submission(s)</Typography>\n                        {\n                            papers ?\n\n                                papers.map((paper) => {\n                                    const papercode = paper.papercode; \n                                    return (\n                                    <StyledBox key={papercode}>\n                                        <StyledActionArea>\n                                            <Typography gutterBottom className=\"action-paper\">{papercode}</Typography>\n                                            <div className=\"\">\n                                            {paper.withdrawn ? \n                                            <Typography className=\"action-paper\" style={{color: \"#ff0000\" }}>WITHDRAWN</Typography>            \n                                            :\n                                            <>\n                                            <Link\n                                                href=\"/f/[id]/[formType]\"\n                                                as={`/f/${papercode}/abstract`} >\n                                                <Button\n                                                    bcolor=\"#134381\"\n                                                    background=\"#134381\"\n                                                    br=\"100rem\"\n                                                    padding=\"0.5rem 2rem\"\n                                                    style={{ margin: \".5rem 0\" }}\n                                                    fontSize=\"1.7rem\">\n                                                    <CreateIcon style={{ fontSize: '3rem', marginRight: '1rem' }} />\n                                                    EDIT PAPER\n                                                </Button>\n                                            </Link>\n                                            <WithdrawPopup values={values} url={`https://prelude.eurobrake.net/authors/withdraw/${papercode}`}>\n                                            <Button\n                                                onClick={() => this.handleWithdrawn({papercode})}\n                                                bcolor=\"#134381\"\n                                                background=\"#134381\"\n                                                br=\"100rem\"\n                                                padding=\"0.5rem 2rem\"\n                                                style={{ margin: \".5rem 0\" }}\n                                                fontSize=\"1.7rem\">\n                                                 <CancelIcon style={{ fontSize: '3rem', marginRight: '1rem' }} />\n                                               withdraw\n                                                </Button>\n                                            </WithdrawPopup>\n                                            </>\n                                            }\n                                            </div>\n                                        </StyledActionArea>\n                                        <StyledInfoArea>\n                                            <div className=\"paper-summary\">\n                                                <Typography className=\"paper-title\">{paper.title}</Typography>\n                                                <Typography gutterBottom className=\"paper-type\">{paper.paper_type === 'full' ? (paper.paper_type.toUpperCase() + ' ' + '+' + ' ' + paper.presentation_type.toUpperCase()) : (paper.paper_type.toUpperCase())}</Typography>\n                                            </div>\n                                                        <Table className=\"\" aria-label=\"simple table\">\n                                                            <TableBody style={{width: '100%'}}>\n                                                                 {/* <TableRow key='titles'>\n                                                                       \n                                                                        <StyledCell align=\"left\" className=\"\" style={{width: '25%'}}>\n                                                                                <Typography gutterBottom className=\"paper-text\"  style={{fontSize: '1rem'}} >Status</Typography>\n                                                                        </StyledCell>\n                                                                       \n                                                                        <StyledCell align=\"left\" className=\"\" style={{width: '50%'}}>\n                                                                                <Typography gutterBottom className=\"paper-text\"  style={{fontSize: '1rem'}} >Task</Typography>\n                                                                        </StyledCell>\n                                                                        <StyledCell align=\"left\" className=\"\" style={{width: '25%'}}>\n                                                                                <Typography gutterBottom className=\"paper-text\"  style={{fontSize: '1rem'}} >Done</Typography>\n                                                                        </StyledCell>\n                                                                        <StyledCell align=\"left\" className=\"\" style={{width: '25%'}}>\n                                                                                <Typography gutterBottom className=\"paper-text\" style={{fontSize: '1rem'}}  >Due</Typography>\n                                                                        </StyledCell>\n                                                                    </TableRow> */}\n                                                               \n                                                               \n                                                                {paper.tasks && paper.tasks.map(task => {\n\n                                                                           let dueDate = new Date('2020-01-26T00:00:00');\n                                                                           let doneDate = new Date('2020-01-17T19:03:17');\n                                                                            let taskDate = dueDate.getDate();\n                                                                            let dateDone = doneDate.getDate();\n                                                                            let taskMonth = dueDate.getMonth();\n                                                                            let monthDone = doneDate.getMonth();\n                                                                            let taskYear = dueDate.getFullYear();\n                                                                            let yearDone = doneDate.getFullYear();\n                                                                            let niceDate = this.pad(taskDate);\n                                                                            let niceDone = this.pad(dateDone);\n                                                                            {/* let prettierDate = this.prettyDate(niceDate); */}\n                                                                            {/* let prettierDone = this.prettyDate(niceDone); */}\n                                                                            let niceMonth = monthNames[taskMonth];\n                                                                            let niceMonthDone = monthNames[monthDone];\n\n                                                                            // todo CHECK THE RIGHT DATES!\n                                                                return (\n                                                                    <TableRow key={task.task}>\n                                                                        <StyledCell component=\"th\" scope=\"row\" className=\"\" style={{width: '10%'}}>{task.done !== null ?\n                                                                            <CheckCircleIcon style={{ fontSize: '2rem', color: 'green', marginRight: '1rem' }} /> : <CancelIcon style={{ fontSize: '2rem', color: 'red', marginRight: '1rem' }} />}</StyledCell>\n                                                                        <StyledCell align=\"left\" className=\"\">\n                                                                            <Link\n                                                                                href=\"/t/[id]/[taskType]\"\n                                                                                as={`/t/${paper.papercode}/${task.type}`} >\n                                                                                <Typography gutterBottom className=\"paper_task-text\" style={{width: '75%'}} >{task.task}</Typography>\n                                                                            </Link></StyledCell>\n                                                                        <StyledCell align=\"left\" className=\"paper_task-date\" style={{width: '26%'}}>{task.done == null ? 'Due' : niceDone + \" \" + niceMonthDone + \" \" + yearDone }</StyledCell>\n                                                                        <StyledCell align=\"left\" className=\"paper_task-date\" style={{width: '26%'}}>{niceDate + \" \" + niceMonth + \" \" + taskYear}</StyledCell>\n                                                                    </TableRow>\n                                                                )}\n                                                                )}\n                                                            </TableBody>\n                                                        </Table>\n                                        </StyledInfoArea>\n                                    </StyledBox>\n                                )}) :\n                                <StyledBox>\n                                    <Typography gutterBottom className=\"authors-it\" style={{ fontSize: '2rem' }}>You haven't submitted any abstracts yet</Typography>\n                                </StyledBox>\n                        }\n                        <Typography gutterBottom className=\"authors\" style={{ fontSize: '2rem' }}>For more information, please visit <Link href=\"/authorsAreaInstructions\" ><a className=\"authors-bold\">Instructions & Templates</a></Link> or email <a className=\"authors-bold\" href=\"mailto:info@fisita.com\">info@eurobrake.net</a></Typography>\n\n                    </div>\n                </StyledPage>\n            </>\n\n        )\n\n    }\n}\n// ! STILL PUSHING TO HOME WHEN WE WANT TOPUSHTO aUTHORS AREA LOGIN => on fault\nAuthorsAreaDash.getInitialProps = async ctx => {\n    // We use `nextCookie` to get the cookie and pass the token to the frontend in the `props`.\n    const { logintoken } = cookies(ctx) || {};\n    const apiUrl = 'https://prelude.eurobrake.net/authors/dashboard ';\n    \n    const redirectOnError = async () => {\n    let count = 0;\n    if(count < 3) {\n    await  count ++\n     await process.browser ? Router.push('/authors') : ctx.res.writeHead(301, { Location: '/authors' })\n    }else{\n        await logout()\n    }\n    }\n\n    console.log('AAD', logintoken)\n    if (logintoken) {\n        try {\n            const response = await fetch(apiUrl, {\n                credentials: 'include',\n                cache: 'no-cache',\n                headers: {\n                    Authorization: 'Bearer ' + logintoken,\n                }\n\n            })\n            const data = await response.json()\n            console.log({ data })\n            // console.log('Authors response Data =>', data.status, data);\n            if (data.status === 'success') {\n                console.log('res.ok', data)\n                return { authorData: data }\n            }\n            else {\n                console.log('not reading success')\n                console.log('stringyfied', JSON.stringify(data))\n                // https://github.com/developit/unfetch#caveats\n                return redirectOnError()\n            }\n        } catch (error) {\n            // Implementation or Network error\n            console.log(error)\n            return await redirectOnError()\n        }\n    }\n\n}\n// ! local host editing\nexport default withAuthSync(AuthorsAreaDash)\n// export default AuthorsAreaDash\n\n\n// !\n// ?\n// *\n// todo"]},"metadata":{},"sourceType":"module"}