{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/mnt/c/Users/D.Hardiman/desktop/eurobrake/pages/authorsAreaDash.js\";\nvar __jsx = React.createElement;\nimport React, { Component, useState } from 'react';\nimport Router from 'next/router';\nimport cookies from 'next-cookies';\nimport cookie from 'js-cookie';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport styled from 'styled-components';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreOutlinedIcon from '@material-ui/icons/ExpandMoreOutlined';\nimport CreateIcon from '@material-ui/icons/Create';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport { withAuthSync, logout, login } from '../utils/auth';\nimport HeroSection from '../components/HeroSection';\nimport { Button } from '../components/Button';\nimport { StyledBanner, StyledContainer } from '../components/styles/PageStyles';\nimport { GetForm } from '../components/forms/FormActions';\nimport { FixedDates } from '../components/Dates';\nvar StyledPage = styled.div.withConfig({\n  displayName: \"authorsAreaDash__StyledPage\",\n  componentId: \"sc-1jtqy5t-0\"\n})([\"display:flex;flex-direction:column;align-self:center;width:\", \";background-color:\", \";margin-top:7rem;@media only screen  and (max-device-width:768px)  and (-webkit-min-device-pixel-ratio:2){width:\", \";}.authors{color:\", \";font-family:\", \";font-size:2rem;&-title{color:\", \";font-family:\", \";font-size:4.4rem;}&_sub-title{color:\", \";font-size:3.5rem;font-family:\", \";padding-bottom:.5rem;}&-bold{color:\", \";font-family:\", \";}&-it{font-family:\", \";}&_action-box{display:flex;justify-content:flex-start;margin-bottom:3rem;}}\"], function (props) {\n  return props.theme.minWidth;\n}, function (props) {\n  return props.theme.white;\n}, function (props) {\n  return props.theme.mobileWidth;\n}, function (props) {\n  return props.theme.primary;\n}, function (props) {\n  return props.theme.MPLight;\n}, function (props) {\n  return props.theme.primary;\n}, function (props) {\n  return props.theme.MPSemibold;\n}, function (props) {\n  return props.theme.primary;\n}, function (props) {\n  return props.theme.MPLightIt;\n}, function (props) {\n  return props.theme.primary;\n}, function (props) {\n  return props.theme.MPBold;\n}, function (props) {\n  return props.theme.MPLightIt;\n});\nvar StyledBox = styled.div.withConfig({\n  displayName: \"authorsAreaDash__StyledBox\",\n  componentId: \"sc-1jtqy5t-1\"\n})([\"display:flex;justify-content:space-between;min-height:15rem;background-color:#D4DDE8;padding:1rem;margin-bottom:2rem;\"]);\nvar StyledActionArea = styled.div.withConfig({\n  displayName: \"authorsAreaDash__StyledActionArea\",\n  componentId: \"sc-1jtqy5t-2\"\n})([\"flex:1 1 30%;margin-right:1rem;display:flex;flex-flow:column;justify-content:space-between;align-items:flex-start;.action-paper{color:\", \";font-family:\", \";font-size:2rem;}\"], function (props) {\n  return props.theme.black;\n}, function (props) {\n  return props.theme.MPBold;\n});\nvar StyledInfoArea = styled.div.withConfig({\n  displayName: \"authorsAreaDash__StyledInfoArea\",\n  componentId: \"sc-1jtqy5t-3\"\n})([\"flex:1 1 70%;display:flex;flex-flow:column;justify-content:space-between;align-items:flex-start;.paper-summary{align-self:flex-start;justify-items:flex-start;}.paper-title{font-size:2rem;color:\", \";}.paper-type{font-size:1.5rem;color:\", \";font-family:\", \";}.paper_task{cursor:pointer;color:\", \";font-size:1.5rem;&-date{font-size:1.5rem;align-self:flex-end;color:red;}}\"], function (props) {\n  return props.theme.MPRegular;\n}, function (props) {\n  return props.theme.black;\n}, function (props) {\n  return props.theme.MPLightIt;\n}, function (props) {\n  return props.theme.black;\n});\nvar StyledCell = styled(TableCell).withConfig({\n  displayName: \"authorsAreaDash__StyledCell\",\n  componentId: \"sc-1jtqy5t-4\"\n})([\"&&.MuiTableCell-root{border-bottom:0;padding:0rem;}\"]);\n\nvar FilledBanner = function FilledBanner() {\n  return __jsx(StyledBanner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, __jsx(StyledContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, __jsx(Typography, {\n    className: \"banner-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \"Welcome to the Author's Area\"), __jsx(Typography, {\n    className: \"banner-sub\",\n    sfs: \"3rem\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, \"Submit your review ready papers by 26 January 2020\"), __jsx(\"div\", {\n    className: \"banner_bottom\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, __jsx(ExpandMoreOutlinedIcon, {\n    className: \"banner_bottom-icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }), __jsx(Typography, {\n    varient: \"h3\",\n    className: \"banner_bottom-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, \"Submit your review ready papers by 26 January 2020\"))));\n};\n\nvar AuthorsAreaDash =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AuthorsAreaDash, _Component);\n\n  function AuthorsAreaDash(props) {\n    var _this;\n\n    _classCallCheck(this, AuthorsAreaDash);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AuthorsAreaDash).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", function () {\n      var userLoggedIn = _this.state.userLoggedIn;\n\n      var _cookie$get = cookie.get(),\n          logintoken = _cookie$get.logintoken;\n\n      console.log('cdm', logintoken);\n      logintoken && !userLoggedIn ? _this.setState(function (prev) {\n        return {\n          userLoggedIn: !prev\n        };\n      }) : null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pad\", function (n) {\n      return n < '10' ? '0' + n : n;\n    });\n\n    _this.state = {\n      hasForm: false,\n      formData: undefined,\n      error: '',\n      editForm: false,\n      formType: '',\n      paper: '',\n      profile: 'profile' //will get rid of when i have profile props\n\n    };\n    return _this;\n  }\n\n  _createClass(AuthorsAreaDash, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      // const papers = '';\n      var monthNames = [\"January\", \"Febuary\", \"March\", \"April\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n      var _this$state = this.state,\n          editForm = _this$state.editForm,\n          formType = _this$state.formType;\n      var firstname = this.props.authorData.author.firstname;\n      var papers = this.props.authorData.papers;\n      var profile = this.state.profile.profile;\n      var data = this.props.authorData;\n      console.log({\n        papers: papers,\n        data: data\n      });\n      return __jsx(React.Fragment, null, __jsx(HeroSection, {\n        banner: FilledBanner,\n        max: \"55%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Author's Area Dashboard\"), __jsx(StyledPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, __jsx(FixedDates, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        className: \"authors\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, __jsx(Typography, {\n        className: \"authors-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"Hi \".concat(firstname)), __jsx(Typography, {\n        gutterBottom: true,\n        className: \"authors_sub-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"Welcome to the Author's Area\"), __jsx(\"div\", {\n        className: \"authors_action-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, __jsx(Link, {\n        href: \"/authorsAreaInstructions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, __jsx(Button, {\n        bcolor: \"#134381\",\n        padding: \"0.5rem 2rem\",\n        background: \"#134381\",\n        br: \"100rem\",\n        style: {\n          margin: \"0 .5rem\"\n        },\n        fontSize: \"1.7rem\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, __jsx(AssignmentIcon, {\n        style: {\n          fontSize: '3rem',\n          marginRight: '.5rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }), \"INSTRUCTIONS & TEMPLATES\")), __jsx(Link, {\n        href: \"/f/[id]/[formType]\",\n        as: \"/f/profile/author\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, __jsx(Button, {\n        bcolor: \"#134381\",\n        padding: \"0.5rem 2rem\",\n        background: \"#134381\",\n        br: \"100rem\",\n        style: {\n          margin: \"0 .5rem\"\n        },\n        fontSize: \"1.7rem\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, __jsx(ExitToAppIcon, {\n        style: {\n          fontSize: '3rem',\n          marginRight: '.5rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }), \"Edit Profile\")), __jsx(Button, {\n        bcolor: \"#134381\",\n        padding: \"0.5rem 2rem\",\n        background: \"#134381\",\n        br: \"100rem\",\n        style: {\n          margin: \"0 .5rem \"\n        },\n        fontSize: \"1.7rem\",\n        onClick: logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, __jsx(ExitToAppIcon, {\n        style: {\n          fontSize: '3rem',\n          marginRight: '.5rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }), \"logout\")), __jsx(Typography, {\n        gutterBottom: true,\n        className: \"authors-title\",\n        style: {\n          fontSize: '3rem',\n          borderTop: '2px solid #134381',\n          borderBottom: '2px solid #134381'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, \"Your submission(s)\"), papers ? papers.map(function (paper) {\n        return __jsx(StyledBox, {\n          key: paper.papercode,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }, __jsx(StyledActionArea, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, __jsx(Typography, {\n          gutterBottom: true,\n          className: \"action-paper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }, paper.papercode), __jsx(\"div\", {\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }, __jsx(Link, {\n          href: \"/f/[id]/[formType]\",\n          as: \"/f/\".concat(paper.papercode, \"/abstract\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }, __jsx(Button, {\n          bcolor: \"#134381\",\n          background: \"#134381\",\n          br: \"100rem\",\n          padding: \"0.5rem 2rem\",\n          style: {\n            margin: \".5rem 0\"\n          },\n          fontSize: \"1.7rem\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }, __jsx(CreateIcon, {\n          style: {\n            fontSize: '3rem',\n            marginRight: '1rem'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273\n          },\n          __self: this\n        }), \"EDIT PAPER\")), __jsx(Button, {\n          bcolor: \"#134381\",\n          background: \"#134381\",\n          br: \"100rem\",\n          padding: \"0.5rem 2rem\",\n          style: {\n            margin: \".5rem 0\"\n          },\n          fontSize: \"1.7rem\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        }, __jsx(CancelIcon, {\n          style: {\n            fontSize: '3rem',\n            marginRight: '1rem'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }), \"WITHDRAW\"))), __jsx(StyledInfoArea, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          className: \"paper-summary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292\n          },\n          __self: this\n        }, __jsx(Typography, {\n          className: \"paper-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        }, paper.title), __jsx(Typography, {\n          gutterBottom: true,\n          className: \"paper-type\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294\n          },\n          __self: this\n        }, paper.paper_type === 'full' ? paper.paper_type.toUpperCase() + ' ' + '+' + ' ' + paper.presentation_type.toUpperCase() : paper.paper_type.toUpperCase())), __jsx(Table, {\n          className: \"\",\n          \"aria-label\": \"simple table\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296\n          },\n          __self: this\n        }, __jsx(TableBody, {\n          style: {\n            width: '100%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297\n          },\n          __self: this\n        }, paper.tasks && paper.tasks.map(function (task) {\n          var dueDate = new Date(task.due);\n          var doneDate = new Date(task.done);\n          var taskDate = dueDate.getDate();\n          var dateDone = doneDate.getDate();\n          var taskMonth = dueDate.getMonth();\n          var monthDone = doneDate.getMonth();\n          var taskYear = dueDate.getFullYear();\n          var yearDone = doneDate.getFullYear();\n\n          var niceDate = _this2.pad(taskDate);\n\n          var niceDone = _this2.pad(dateDone);\n\n          {\n            /* let prettierDate = this.prettyDate(niceDate); */\n          }\n          {\n            /* let prettierDone = this.prettyDate(niceDone); */\n          }\n          var niceMonth = monthNames[taskMonth];\n          var niceMonthDone = monthNames[monthDone]; // todo PASS TITLE TO TASK OR ABSTRACT PAGE\n\n          return __jsx(TableRow, {\n            key: task.task,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 317\n            },\n            __self: this\n          }, __jsx(StyledCell, {\n            component: \"th\",\n            scope: \"row\",\n            className: \"\",\n            style: {\n              width: '10%'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 318\n            },\n            __self: this\n          }, task.done !== null ? __jsx(CheckCircleIcon, {\n            style: {\n              fontSize: '2rem',\n              color: 'green',\n              marginRight: '1rem'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 319\n            },\n            __self: this\n          }) : __jsx(CancelIcon, {\n            style: {\n              fontSize: '2rem',\n              color: 'red',\n              marginRight: '1rem'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 319\n            },\n            __self: this\n          })), __jsx(StyledCell, {\n            align: \"left\",\n            className: \"\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 320\n            },\n            __self: this\n          }, __jsx(Link, {\n            href: \"/t/[id]/[taskType]\",\n            as: \"/t/\".concat(paper.papercode, \"/\").concat(task.type),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 321\n            },\n            __self: this\n          }, __jsx(Typography, {\n            gutterBottom: true,\n            className: \"paper_task\",\n            style: {\n              width: '75%'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 324\n            },\n            __self: this\n          }, task.task))), __jsx(StyledCell, {\n            align: \"left\",\n            className: \"paper_task-date\",\n            style: {\n              width: '26%'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 326\n            },\n            __self: this\n          }, task.done == null ? 'Due' : niceDone + \" \" + niceMonthDone + \" \" + yearDone), __jsx(StyledCell, {\n            align: \"left\",\n            className: \"paper_task-date\",\n            style: {\n              width: '26%'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 327\n            },\n            __self: this\n          }, niceDate + \" \" + niceMonth + \" \" + taskYear));\n        })))));\n      }) : __jsx(StyledBox, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, __jsx(Typography, {\n        gutterBottom: true,\n        className: \"authors-it\",\n        style: {\n          fontSize: '2rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, \"You haven't submitted any abstracts yet\")), __jsx(Typography, {\n        gutterBottom: true,\n        className: \"authors\",\n        style: {\n          fontSize: '2rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, \"For more information, please visit \", __jsx(Link, {\n        href: \"/authorsAreaInstructions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        className: \"authors-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, \"Instructions & Templates\")), \" or email \", __jsx(\"a\", {\n        className: \"authors-bold\",\n        href: \"mailto:info@fisita.com\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, \"info@eurobrake.net\")))));\n    }\n  }]);\n\n  return AuthorsAreaDash;\n}(Component); // ! STILL PUSHING TO HOME WHEN WE WANT TOPUSHTO aUTHORS AREA LOGIN => on fault\n\n\nAuthorsAreaDash.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(ctx) {\n    var _ref2, logintoken, apiUrl, redirectOnError, response, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // We use `nextCookie` to get the cookie and pass the token to the frontend in the `props`.\n            _ref2 = cookies(ctx) || {}, logintoken = _ref2.logintoken;\n            apiUrl = 'https://prelude.eurobrake.net/authors/dashboard ';\n\n            redirectOnError = function redirectOnError() {\n              return process.browser ? Router.push('/') : ctx.res.writeHead(301, {\n                Location: '/'\n              });\n            };\n\n            console.log('AAD', logintoken);\n\n            if (!logintoken) {\n              _context.next = 29;\n              break;\n            }\n\n            _context.prev = 5;\n            _context.next = 8;\n            return fetch(apiUrl, {\n              credentials: 'include',\n              cache: 'no-cache',\n              headers: {\n                Authorization: 'Bearer ' + logintoken\n              }\n            });\n\n          case 8:\n            response = _context.sent;\n            _context.next = 11;\n            return response.json();\n\n          case 11:\n            data = _context.sent;\n            console.log({\n              data: data\n            }); // console.log('Authors response Data =>', data.status, data);\n\n            if (!(data.status === 'success')) {\n              _context.next = 18;\n              break;\n            }\n\n            console.log('res.ok', data);\n            return _context.abrupt(\"return\", {\n              authorData: data\n            });\n\n          case 18:\n            console.log('not reading success');\n            console.log('stringyfied', _JSON$stringify(data)); // https://github.com/developit/unfetch#caveats\n\n            return _context.abrupt(\"return\", redirectOnError());\n\n          case 21:\n            _context.next = 29;\n            break;\n\n          case 23:\n            _context.prev = 23;\n            _context.t0 = _context[\"catch\"](5);\n            // Implementation or Network error\n            console.log(_context.t0);\n            _context.next = 28;\n            return redirectOnError();\n\n          case 28:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 29:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[5, 23]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}(); // ! local host editing\n\n\nexport default withAuthSync(AuthorsAreaDash); // export default AuthorsAreaDash\n// !\n// ?\n// *\n// todo","map":{"version":3,"sources":["/mnt/c/Users/D.Hardiman/desktop/eurobrake/pages/authorsAreaDash.js"],"names":["React","Component","useState","Router","cookies","cookie","Link","fetch","styled","Typography","ExpandMoreOutlinedIcon","CreateIcon","AssignmentIcon","ExitToAppIcon","CheckCircleIcon","CancelIcon","Table","TableBody","TableCell","TableRow","withAuthSync","logout","login","HeroSection","Button","StyledBanner","StyledContainer","GetForm","FixedDates","StyledPage","div","props","theme","minWidth","white","mobileWidth","primary","MPLight","MPSemibold","MPLightIt","MPBold","StyledBox","StyledActionArea","black","StyledInfoArea","MPRegular","StyledCell","FilledBanner","AuthorsAreaDash","userLoggedIn","state","get","logintoken","console","log","setState","prev","n","hasForm","formData","undefined","error","editForm","formType","paper","profile","monthNames","firstname","authorData","author","papers","data","margin","fontSize","marginRight","borderTop","borderBottom","map","papercode","title","paper_type","toUpperCase","presentation_type","width","tasks","task","dueDate","Date","due","doneDate","done","taskDate","getDate","dateDone","taskMonth","getMonth","monthDone","taskYear","getFullYear","yearDone","niceDate","pad","niceDone","niceMonth","niceMonthDone","color","type","getInitialProps","ctx","apiUrl","redirectOnError","process","browser","push","res","writeHead","Location","credentials","cache","headers","Authorization","response","json","status"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,sBAAP,MAAmC,uCAAnC;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,SAASC,YAAT,EAAuBC,MAAvB,EAA+BC,KAA/B,QAA4C,eAA5C;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,SAASC,MAAT,QAAuB,sBAAvB;AACA,SAASC,YAAT,EAAuBC,eAAvB,QAA8C,iCAA9C;AACA,SAASC,OAAT,QAAwB,iCAAxB;AACA,SAASC,UAAT,QAA2B,qBAA3B;AAGA,IAAMC,UAAU,GAAGrB,MAAM,CAACsB,GAAV;AAAA;AAAA;AAAA,khBAIH,UAAAC,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYC,QAAhB;AAAA,CAJF,EAKQ,UAAAF,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYE,KAAhB;AAAA,CALb,EAWH,UAAAH,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYG,WAAhB;AAAA,CAXF,EAcC,UAAAJ,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYI,OAAhB;AAAA,CAdN,EAeO,UAAAL,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYK,OAAhB;AAAA,CAfZ,EAkBC,UAAAN,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYI,OAAhB;AAAA,CAlBN,EAmBO,UAAAL,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYM,UAAhB;AAAA,CAnBZ,EAwBC,UAAAP,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYI,OAAhB;AAAA,CAxBN,EA0BO,UAAAL,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYO,SAAhB;AAAA,CA1BZ,EA8BC,UAAAR,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYI,OAAhB;AAAA,CA9BN,EA+BO,UAAAL,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYQ,MAAhB;AAAA,CA/BZ,EAkCO,UAAAT,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYO,SAAhB;AAAA,CAlCZ,CAAhB;AA4CA,IAAME,SAAS,GAAGjC,MAAM,CAACsB,GAAV;AAAA;AAAA;AAAA,6HAAf;AAUA,IAAMY,gBAAgB,GAAGlC,MAAM,CAACsB,GAAV;AAAA;AAAA;AAAA,qLASL,UAAAC,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYW,KAAhB;AAAA,CATA,EAUC,UAAAZ,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYQ,MAAhB;AAAA,CAVN,CAAtB;AAeA,IAAMI,cAAc,GAAGpC,MAAM,CAACsB,GAAV;AAAA;AAAA;AAAA,yXAgBP,UAAAC,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYa,SAAhB;AAAA,CAhBE,EAqBP,UAAAd,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYW,KAAhB;AAAA,CArBE,EAsBD,UAAAZ,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYO,SAAhB;AAAA,CAtBJ,EA2BP,UAAAR,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYW,KAAhB;AAAA,CA3BE,CAApB;AAyCA,IAAMG,UAAU,GAAGtC,MAAM,CAACU,SAAD,CAAT;AAAA;AAAA;AAAA,2DAAhB;;AASA,IAAM6B,YAAY,GAAG,SAAfA,YAAe;AAAA,SAEjB,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,UAAD;AAAY,IAAA,SAAS,EAAC,gBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADJ,EAEI,MAAC,UAAD;AAAY,IAAA,SAAS,EAAC,YAAtB;AAAmC,IAAA,GAAG,EAAC,MAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAFJ,EAGI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,sBAAD;AAAwB,IAAA,SAAS,EAAC,oBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,MAAC,UAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAyB,IAAA,SAAS,EAAC,uBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAFJ,CAHJ,CADJ,CAFiB;AAAA,CAArB;;IAiBMC,e;;;;;AACF,2BAAYjB,KAAZ,EAAmB;AAAA;;AAAA;;AACf,yFAAMA,KAAN;;AADe,wEAaC,YAAM;AAAA,UACdkB,YADc,GACG,MAAKC,KADR,CACdD,YADc;;AAAA,wBAEC5C,MAAM,CAAC8C,GAAP,EAFD;AAAA,UAEdC,UAFc,eAEdA,UAFc;;AAGtBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBF,UAAnB;AACAA,MAAAA,UAAU,IAAI,CAACH,YAAf,GAA8B,MAAKM,QAAL,CAAc,UAAAC,IAAI;AAAA,eAAK;AACjDP,UAAAA,YAAY,EAAE,CAACO;AADkC,SAAL;AAAA,OAAlB,CAA9B,GAEM,IAFN;AAGH,KApBkB;;AAAA,0DAsBb,UAACC,CAAD,EAAO;AACX,aAAQA,CAAC,GAAG,IAAJ,GAAW,MAAKA,CAAhB,GAAoBA,CAA5B;AACD,KAxBkB;;AAEf,UAAKP,KAAL,GAAa;AACTQ,MAAAA,OAAO,EAAE,KADA;AAETC,MAAAA,QAAQ,EAAEC,SAFD;AAGTC,MAAAA,KAAK,EAAE,EAHE;AAITC,MAAAA,QAAQ,EAAE,KAJD;AAKTC,MAAAA,QAAQ,EAAE,EALD;AAMTC,MAAAA,KAAK,EAAE,EANE;AAOTC,MAAAA,OAAO,EAAE,SAPA,CAOU;;AAPV,KAAb;AAFe;AAWlB;;;;6BAiBQ;AAAA;;AACL;AACA,UAAMC,UAAU,GAAG,CAAC,SAAD,EAAY,SAAZ,EAAuB,OAAvB,EAAgC,OAAhC,EAAyC,MAAzC,EAAiD,MAAjD,EAAyD,QAAzD,EAAmE,WAAnE,EAAgF,SAAhF,EAA2F,UAA3F,EAAuG,UAAvG,CAAnB;AAFK,wBAG0B,KAAKhB,KAH/B;AAAA,UAGGY,QAHH,eAGGA,QAHH;AAAA,UAGaC,QAHb,eAGaA,QAHb;AAAA,UAIGI,SAJH,GAIiB,KAAKpC,KAAL,CAAWqC,UAAX,CAAsBC,MAJvC,CAIGF,SAJH;AAAA,UAKGG,MALH,GAKc,KAAKvC,KAAL,CAAWqC,UALzB,CAKGE,MALH;AAAA,UAMGL,OANH,GAMe,KAAKf,KAAL,CAAWe,OAN1B,CAMGA,OANH;AAOL,UAAMM,IAAI,GAAG,KAAKxC,KAAL,CAAWqC,UAAxB;AACAf,MAAAA,OAAO,CAACC,GAAR,CAAY;AAAEgB,QAAAA,MAAM,EAANA,MAAF;AAAUC,QAAAA,IAAI,EAAJA;AAAV,OAAZ;AACA,aACI,4BACI,MAAC,WAAD;AAAa,QAAA,MAAM,EAAExB,YAArB;AACI,QAAA,GAAG,EAAC,KADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADJ,EAKI,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAGI;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,MAAC,UAAD;AAAY,QAAA,SAAS,EAAC,eAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA6CoB,SAA7C,EAFJ,EAGI,MAAC,UAAD;AAAY,QAAA,YAAY,MAAxB;AAAyB,QAAA,SAAS,EAAC,mBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAHJ,EAII;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,IAAD;AAAM,QAAA,IAAI,EAAC,0BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,MAAD;AACI,QAAA,MAAM,EAAC,SADX;AAEI,QAAA,OAAO,EAAC,aAFZ;AAGI,QAAA,UAAU,EAAC,SAHf;AAII,QAAA,EAAE,EAAC,QAJP;AAKI,QAAA,KAAK,EAAE;AAAEK,UAAAA,MAAM,EAAE;AAAV,SALX;AAMI,QAAA,QAAQ,EAAC,QANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQI,MAAC,cAAD;AAAgB,QAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAE,MAAZ;AAAoBC,UAAAA,WAAW,EAAE;AAAjC,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARJ,6BADJ,CADJ,EAeI,MAAC,IAAD;AAAM,QAAA,IAAI,EAAC,oBAAX;AAAgC,QAAA,EAAE,qBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,MAAD;AACI,QAAA,MAAM,EAAC,SADX;AAEI,QAAA,OAAO,EAAC,aAFZ;AAGI,QAAA,UAAU,EAAC,SAHf;AAII,QAAA,EAAE,EAAC,QAJP;AAKI,QAAA,KAAK,EAAE;AAAEF,UAAAA,MAAM,EAAE;AAAV,SALX;AAMI,QAAA,QAAQ,EAAC,QANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOI,MAAC,aAAD;AAAe,QAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAE,MAAZ;AAAoBC,UAAAA,WAAW,EAAE;AAAjC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPJ,iBADJ,CAfJ,EA4BI,MAAC,MAAD;AACI,QAAA,MAAM,EAAC,SADX;AAEI,QAAA,OAAO,EAAC,aAFZ;AAGI,QAAA,UAAU,EAAC,SAHf;AAII,QAAA,EAAE,EAAC,QAJP;AAKI,QAAA,KAAK,EAAE;AAAEF,UAAAA,MAAM,EAAE;AAAV,SALX;AAMI,QAAA,QAAQ,EAAC,QANb;AAOI,QAAA,OAAO,EAAEnD,MAPb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQI,MAAC,aAAD;AAAe,QAAA,KAAK,EAAE;AAAEoD,UAAAA,QAAQ,EAAE,MAAZ;AAAoBC,UAAAA,WAAW,EAAE;AAAjC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARJ,WA5BJ,CAJJ,EA4CI,MAAC,UAAD;AAAY,QAAA,YAAY,MAAxB;AAAyB,QAAA,SAAS,EAAC,eAAnC;AAAmD,QAAA,KAAK,EAAE;AAAED,UAAAA,QAAQ,EAAE,MAAZ;AAAoBE,UAAAA,SAAS,EAAE,mBAA/B;AAAoDC,UAAAA,YAAY,EAAE;AAAlE,SAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BA5CJ,EA8CQN,MAAM,GAEFA,MAAM,CAACO,GAAP,CAAW,UAACb,KAAD;AAAA,eACP,MAAC,SAAD;AAAW,UAAA,GAAG,EAAEA,KAAK,CAACc,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,MAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,MAAC,UAAD;AAAY,UAAA,YAAY,MAAxB;AAAyB,UAAA,SAAS,EAAC,cAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmDd,KAAK,CAACc,SAAzD,CADJ,EAEI;AAAK,UAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA,MAAC,IAAD;AACI,UAAA,IAAI,EAAC,oBADT;AAEI,UAAA,EAAE,eAAQd,KAAK,CAACc,SAAd,cAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAGI,MAAC,MAAD;AACI,UAAA,MAAM,EAAC,SADX;AAEI,UAAA,UAAU,EAAC,SAFf;AAGI,UAAA,EAAE,EAAC,QAHP;AAII,UAAA,OAAO,EAAC,aAJZ;AAKI,UAAA,KAAK,EAAE;AAAEN,YAAAA,MAAM,EAAE;AAAV,WALX;AAMI,UAAA,QAAQ,EAAC,QANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAOI,MAAC,UAAD;AAAY,UAAA,KAAK,EAAE;AAAEC,YAAAA,QAAQ,EAAE,MAAZ;AAAoBC,YAAAA,WAAW,EAAE;AAAjC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAPJ,eAHJ,CADA,EAgBA,MAAC,MAAD;AACI,UAAA,MAAM,EAAC,SADX;AAEI,UAAA,UAAU,EAAC,SAFf;AAGI,UAAA,EAAE,EAAC,QAHP;AAII,UAAA,OAAO,EAAC,aAJZ;AAKI,UAAA,KAAK,EAAE;AAAEF,YAAAA,MAAM,EAAE;AAAV,WALX;AAMI,UAAA,QAAQ,EAAC,QANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAQI,MAAC,UAAD;AAAY,UAAA,KAAK,EAAE;AAAEC,YAAAA,QAAQ,EAAE,MAAZ;AAAoBC,YAAAA,WAAW,EAAE;AAAjC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UARJ,aAhBA,CAFJ,CADJ,EAgCI,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,MAAC,UAAD;AAAY,UAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAqCV,KAAK,CAACe,KAA3C,CADJ,EAEI,MAAC,UAAD;AAAY,UAAA,YAAY,MAAxB;AAAyB,UAAA,SAAS,EAAC,YAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAiDf,KAAK,CAACgB,UAAN,KAAqB,MAArB,GAA+BhB,KAAK,CAACgB,UAAN,CAAiBC,WAAjB,KAAiC,GAAjC,GAAuC,GAAvC,GAA6C,GAA7C,GAAmDjB,KAAK,CAACkB,iBAAN,CAAwBD,WAAxB,EAAlF,GAA4HjB,KAAK,CAACgB,UAAN,CAAiBC,WAAjB,EAA7K,CAFJ,CADJ,EAKgB,MAAC,KAAD;AAAO,UAAA,SAAS,EAAC,EAAjB;AAAoB,wBAAW,cAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,MAAC,SAAD;AAAW,UAAA,KAAK,EAAE;AAACE,YAAAA,KAAK,EAAE;AAAR,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACKnB,KAAK,CAACoB,KAAN,IAAepB,KAAK,CAACoB,KAAN,CAAYP,GAAZ,CAAgB,UAAAQ,IAAI,EAAI;AAE7B,cAAIC,OAAO,GAAG,IAAIC,IAAJ,CAASF,IAAI,CAACG,GAAd,CAAd;AACA,cAAIC,QAAQ,GAAG,IAAIF,IAAJ,CAASF,IAAI,CAACK,IAAd,CAAf;AACC,cAAIC,QAAQ,GAAGL,OAAO,CAACM,OAAR,EAAf;AACA,cAAIC,QAAQ,GAAGJ,QAAQ,CAACG,OAAT,EAAf;AACA,cAAIE,SAAS,GAAGR,OAAO,CAACS,QAAR,EAAhB;AACA,cAAIC,SAAS,GAAGP,QAAQ,CAACM,QAAT,EAAhB;AACA,cAAIE,QAAQ,GAAGX,OAAO,CAACY,WAAR,EAAf;AACA,cAAIC,QAAQ,GAAGV,QAAQ,CAACS,WAAT,EAAf;;AACA,cAAIE,QAAQ,GAAG,MAAI,CAACC,GAAL,CAASV,QAAT,CAAf;;AACA,cAAIW,QAAQ,GAAG,MAAI,CAACD,GAAL,CAASR,QAAT,CAAf;;AACA;AAAC;AAAoD;AACrD;AAAC;AAAoD;AACrD,cAAIU,SAAS,GAAGrC,UAAU,CAAC4B,SAAD,CAA1B;AACA,cAAIU,aAAa,GAAGtC,UAAU,CAAC8B,SAAD,CAA9B,CAf4B,CAiB5B;;AACZ,iBACI,MAAC,QAAD;AAAU,YAAA,GAAG,EAAEX,IAAI,CAACA,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,MAAC,UAAD;AAAY,YAAA,SAAS,EAAC,IAAtB;AAA2B,YAAA,KAAK,EAAC,KAAjC;AAAuC,YAAA,SAAS,EAAC,EAAjD;AAAoD,YAAA,KAAK,EAAE;AAACF,cAAAA,KAAK,EAAE;AAAR,aAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA4EE,IAAI,CAACK,IAAL,KAAc,IAAd,GACxE,MAAC,eAAD;AAAiB,YAAA,KAAK,EAAE;AAAEjB,cAAAA,QAAQ,EAAE,MAAZ;AAAoBgC,cAAAA,KAAK,EAAE,OAA3B;AAAoC/B,cAAAA,WAAW,EAAE;AAAjD,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADwE,GACgB,MAAC,UAAD;AAAY,YAAA,KAAK,EAAE;AAAED,cAAAA,QAAQ,EAAE,MAAZ;AAAoBgC,cAAAA,KAAK,EAAE,KAA3B;AAAkC/B,cAAAA,WAAW,EAAE;AAA/C,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAD5F,CADJ,EAGI,MAAC,UAAD;AAAY,YAAA,KAAK,EAAC,MAAlB;AAAyB,YAAA,SAAS,EAAC,EAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,MAAC,IAAD;AACI,YAAA,IAAI,EAAC,oBADT;AAEI,YAAA,EAAE,eAAQV,KAAK,CAACc,SAAd,cAA2BO,IAAI,CAACqB,IAAhC,CAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAGI,MAAC,UAAD;AAAY,YAAA,YAAY,MAAxB;AAAyB,YAAA,SAAS,EAAC,YAAnC;AAAgD,YAAA,KAAK,EAAE;AAACvB,cAAAA,KAAK,EAAE;AAAR,aAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAyEE,IAAI,CAACA,IAA9E,CAHJ,CADJ,CAHJ,EASI,MAAC,UAAD;AAAY,YAAA,KAAK,EAAC,MAAlB;AAAyB,YAAA,SAAS,EAAC,iBAAnC;AAAqD,YAAA,KAAK,EAAE;AAACF,cAAAA,KAAK,EAAE;AAAR,aAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA6EE,IAAI,CAACK,IAAL,IAAa,IAAb,GAAoB,KAApB,GAA4BY,QAAQ,GAAG,GAAX,GAAiBE,aAAjB,GAAiC,GAAjC,GAAuCL,QAAhJ,CATJ,EAUI,MAAC,UAAD;AAAY,YAAA,KAAK,EAAC,MAAlB;AAAyB,YAAA,SAAS,EAAC,iBAAnC;AAAqD,YAAA,KAAK,EAAE;AAAChB,cAAAA,KAAK,EAAE;AAAR,aAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA6EiB,QAAQ,GAAG,GAAX,GAAiBG,SAAjB,GAA6B,GAA7B,GAAmCN,QAAhH,CAVJ,CADJ;AAaE,SA/Bc,CADpB,CADJ,CALhB,CAhCJ,CADO;AAAA,OAAX,CAFE,GAgFF,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,UAAD;AAAY,QAAA,YAAY,MAAxB;AAAyB,QAAA,SAAS,EAAC,YAAnC;AAAgD,QAAA,KAAK,EAAE;AAAExB,UAAAA,QAAQ,EAAE;AAAZ,SAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDADJ,CA9HZ,EAkII,MAAC,UAAD;AAAY,QAAA,YAAY,MAAxB;AAAyB,QAAA,SAAS,EAAC,SAAnC;AAA6C,QAAA,KAAK,EAAE;AAAEA,UAAAA,QAAQ,EAAE;AAAZ,SAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAA6G,MAAC,IAAD;AAAM,QAAA,IAAI,EAAC,0BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuC;AAAG,QAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAAvC,CAA7G,gBAA6N;AAAG,QAAA,SAAS,EAAC,cAAb;AAA4B,QAAA,IAAI,EAAC,wBAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAA7N,CAlIJ,CAHJ,CALJ,CADJ;AAmJH;;;;EAzLyBxE,S,GA2L9B;;;AACA+C,eAAe,CAAC2D,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAkC,iBAAMC,GAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAC9B;AAD8B,oBAEPxG,OAAO,CAACwG,GAAD,CAAP,IAAgB,EAFT,EAEtBxD,UAFsB,SAEtBA,UAFsB;AAGxByD,YAAAA,MAHwB,GAGf,kDAHe;;AAIxBC,YAAAA,eAJwB,GAIN,SAAlBA,eAAkB;AAAA,qBACpBC,OAAO,CAACC,OAAR,GACM7G,MAAM,CAAC8G,IAAP,CAAY,GAAZ,CADN,GAEML,GAAG,CAACM,GAAJ,CAAQC,SAAR,CAAkB,GAAlB,EAAuB;AAAEC,gBAAAA,QAAQ,EAAE;AAAZ,eAAvB,CAHc;AAAA,aAJM;;AAQ9B/D,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBF,UAAnB;;AAR8B,iBAS1BA,UAT0B;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,mBAWC7C,KAAK,CAACsG,MAAD,EAAS;AACjCQ,cAAAA,WAAW,EAAE,SADoB;AAEjCC,cAAAA,KAAK,EAAE,UAF0B;AAGjCC,cAAAA,OAAO,EAAE;AACLC,gBAAAA,aAAa,EAAE,YAAYpE;AADtB;AAHwB,aAAT,CAXN;;AAAA;AAWhBqE,YAAAA,QAXgB;AAAA;AAAA,mBAmBHA,QAAQ,CAACC,IAAT,EAnBG;;AAAA;AAmBhBnD,YAAAA,IAnBgB;AAoBtBlB,YAAAA,OAAO,CAACC,GAAR,CAAY;AAAEiB,cAAAA,IAAI,EAAJA;AAAF,aAAZ,EApBsB,CAqBtB;;AArBsB,kBAsBlBA,IAAI,CAACoD,MAAL,KAAgB,SAtBE;AAAA;AAAA;AAAA;;AAuBlBtE,YAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBiB,IAAtB;AAvBkB,6CAwBX;AAAEH,cAAAA,UAAU,EAAEG;AAAd,aAxBW;;AAAA;AA2BlBlB,YAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAD,YAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,gBAAeiB,IAAf,CAA3B,EA5BkB,CA6BlB;;AA7BkB,6CA8BXuC,eAAe,EA9BJ;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAiCtB;AACAzD,YAAAA,OAAO,CAACC,GAAR;AAlCsB;AAAA,mBAmCTwD,eAAe,EAnCN;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlC;;AAAA;AAAA;AAAA;AAAA,I,CAwCA;;;AACA,eAAe1F,YAAY,CAAC4B,eAAD,CAA3B,C,CACA;AAGA;AACA;AACA;AACA","sourcesContent":["import React, { Component, useState } from 'react'\nimport Router from 'next/router';\nimport cookies from 'next-cookies';\nimport cookie from 'js-cookie';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport styled from 'styled-components';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreOutlinedIcon from '@material-ui/icons/ExpandMoreOutlined';\nimport CreateIcon from '@material-ui/icons/Create';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport { withAuthSync, logout, login } from '../utils/auth'\nimport HeroSection from '../components/HeroSection';\nimport { Button } from '../components/Button';\nimport { StyledBanner, StyledContainer } from '../components/styles/PageStyles';\nimport { GetForm } from '../components/forms/FormActions';\nimport { FixedDates } from '../components/Dates';\n\n\nconst StyledPage = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-self: center;\n    width: ${props => props.theme.minWidth};\n    background-color: ${props => props.theme.white};\n    margin-top: 7rem;\n\n      @media only screen \n  and (max-device-width: 768px) \n  and (-webkit-min-device-pixel-ratio: 2) { \n    width: ${props => props.theme.mobileWidth};    \n}\n    .authors{\n        color: ${props => props.theme.primary};\n        font-family: ${props => props.theme.MPLight};\n        font-size: 2rem;\n    &-title{\n        color: ${props => props.theme.primary};\n        font-family: ${props => props.theme.MPSemibold};\n        font-size: 4.4rem;\n        \n    }\n    &_sub-title{\n        color: ${props => props.theme.primary};\n        font-size: 3.5rem;\n        font-family: ${props => props.theme.MPLightIt};\n        padding-bottom: .5rem;\n    }\n    &-bold{\n        color: ${props => props.theme.primary};\n        font-family: ${props => props.theme.MPBold};\n    }\n    &-it{\n        font-family: ${props => props.theme.MPLightIt};\n    }\n    &_action-box{\n        display: flex;\n        justify-content: flex-start;\n        margin-bottom: 3rem;\n    }\n}\n`;\n\nconst StyledBox = styled.div`\n    display: flex;\n    justify-content: space-between;\n    min-height: 15rem;\n    background-color: #D4DDE8;\n    padding: 1rem;\n    margin-bottom: 2rem;\n\n`;\n\nconst StyledActionArea = styled.div`\n    flex: 1 1 30%;\n    margin-right: 1rem;\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    align-items: flex-start;\n\n    .action-paper{\n        color: ${props => props.theme.black};\n        font-family: ${props => props.theme.MPBold};\n        font-size: 2rem;\n    }\n`;\n\nconst StyledInfoArea = styled.div`\n    flex: 1 1 70%;\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    align-items: flex-start;\n\n    \n    \n    .paper-summary{\n        align-self: flex-start;\n        justify-items: flex-start;\n    }\n\n    .paper-title{\n    font-size: 2rem;\n    color: ${props => props.theme.MPRegular};\n\n    }\n    .paper-type{\n    font-size: 1.5rem;\n    color: ${props => props.theme.black};\n    font-family: ${props => props.theme.MPLightIt};\n\n    }\n    .paper_task{\n        cursor: pointer;\n    color: ${props => props.theme.black};\n    font-size: 1.5rem;\n\n   \n\n    &-date{\n\n        font-size: 1.5rem;\n        align-self: flex-end;\n        color: red;\n    }\n    }\n`;\n\nconst StyledCell = styled(TableCell)`\n  &&.MuiTableCell-root {\n    border-bottom: 0;\n    padding: 0rem;\n    }\n\n\n`;\n\nconst FilledBanner = () => (\n\n    <StyledBanner>\n        <StyledContainer >\n            <Typography className=\"banner-heading\"  >Welcome to the Author's Area</Typography>\n            <Typography className=\"banner-sub\" sfs=\"3rem\">Submit your review ready papers by 26 January 2020</Typography>\n            <div className=\"banner_bottom\">\n                <ExpandMoreOutlinedIcon className=\"banner_bottom-icon\" />\n                <Typography varient=\"h3\" className=\"banner_bottom-details\">Submit your review ready papers by 26 January 2020</Typography>\n            </div>\n        </StyledContainer>\n    </StyledBanner>\n)\n\n\n\n\nclass AuthorsAreaDash extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            hasForm: false,\n            formData: undefined,\n            error: '',\n            editForm: false,\n            formType: '',\n            paper: '',\n            profile: 'profile',//will get rid of when i have profile props\n        }\n    }\n\n    componentDidMount = () => {\n        const { userLoggedIn } = this.state;\n        const { logintoken } = cookie.get();\n        console.log('cdm', logintoken)\n        logintoken && !userLoggedIn ? this.setState(prev => ({\n            userLoggedIn: !prev\n        })) : null\n    }\n\n    pad = (n) => {\n      return  n < '10' ? '0'+ n : n  \n    }\n\n \n\n    render() {\n        // const papers = '';\n        const monthNames = [\"January\", \"Febuary\", \"March\", \"April\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]\n        const { editForm, formType } = this.state;\n        const { firstname } = this.props.authorData.author;\n        const { papers } = this.props.authorData;\n        const { profile } = this.state.profile;\n        const data = this.props.authorData;\n        console.log({ papers, data })\n        return (\n            <>\n                <HeroSection banner={FilledBanner}\n                    max=\"55%\">\n                    Author's Area Dashboard\n            </HeroSection>\n                <StyledPage>\n                    <FixedDates />\n\n                    <div className=\"authors\">\n\n                        <Typography className=\"authors-title\">{`Hi ${firstname}`}</Typography>\n                        <Typography gutterBottom className=\"authors_sub-title\">Welcome to the Author's Area</Typography>\n                        <div className=\"authors_action-box\">\n                            <Link href=\"/authorsAreaInstructions\">\n                                <Button\n                                    bcolor=\"#134381\"\n                                    padding=\"0.5rem 2rem\"\n                                    background=\"#134381\"\n                                    br=\"100rem\"\n                                    style={{ margin: \"0 .5rem\" }}\n                                    fontSize=\"1.7rem\"\n                                >\n                                    <AssignmentIcon style={{ fontSize: '3rem', marginRight: '.5rem' }} />\n                                    INSTRUCTIONS & TEMPLATES\n                    </Button>\n                            </Link>\n\n                            <Link href=\"/f/[id]/[formType]\" as={`/f/profile/author`}>\n                                <Button\n                                    bcolor=\"#134381\"\n                                    padding=\"0.5rem 2rem\"\n                                    background=\"#134381\"\n                                    br=\"100rem\"\n                                    style={{ margin: \"0 .5rem\" }}\n                                    fontSize=\"1.7rem\">\n                                    <ExitToAppIcon style={{ fontSize: '3rem', marginRight: '.5rem' }} />\n                                    Edit Profile\n                            </Button>\n                            </Link>\n\n                            <Button\n                                bcolor=\"#134381\"\n                                padding=\"0.5rem 2rem\"\n                                background=\"#134381\"\n                                br=\"100rem\"\n                                style={{ margin: \"0 .5rem \" }}\n                                fontSize=\"1.7rem\"\n                                onClick={logout}>\n                                <ExitToAppIcon style={{ fontSize: '3rem', marginRight: '.5rem' }} />\n                                logout\n                    </Button>\n                        </div>\n                        <Typography gutterBottom className=\"authors-title\" style={{ fontSize: '3rem', borderTop: '2px solid #134381', borderBottom: '2px solid #134381' }}>Your submission(s)</Typography>\n                        {\n                            papers ?\n\n                                papers.map((paper) => (\n                                    <StyledBox key={paper.papercode}>\n                                        <StyledActionArea>\n                                            <Typography gutterBottom className=\"action-paper\">{paper.papercode}</Typography>\n                                            <div className=\"\">\n                                            <Link\n                                                href=\"/f/[id]/[formType]\"\n                                                as={`/f/${paper.papercode}/abstract`} >\n                                                <Button\n                                                    bcolor=\"#134381\"\n                                                    background=\"#134381\"\n                                                    br=\"100rem\"\n                                                    padding=\"0.5rem 2rem\"\n                                                    style={{ margin: \".5rem 0\" }}\n                                                    fontSize=\"1.7rem\">\n                                                    <CreateIcon style={{ fontSize: '3rem', marginRight: '1rem' }} />\n                                                    EDIT PAPER\n                                                </Button>\n                                            </Link>\n\n                                            <Button\n                                                bcolor=\"#134381\"\n                                                background=\"#134381\"\n                                                br=\"100rem\"\n                                                padding=\"0.5rem 2rem\"\n                                                style={{ margin: \".5rem 0\" }}\n                                                fontSize=\"1.7rem\"\n                                            >\n                                                <CancelIcon style={{ fontSize: '3rem', marginRight: '1rem' }} />\n                                                WITHDRAW\n                                                </Button>\n                                            </div>\n                                        </StyledActionArea>\n                                        <StyledInfoArea>\n                                            <div className=\"paper-summary\">\n                                                <Typography className=\"paper-title\">{paper.title}</Typography>\n                                                <Typography gutterBottom className=\"paper-type\">{paper.paper_type === 'full' ? (paper.paper_type.toUpperCase() + ' ' + '+' + ' ' + paper.presentation_type.toUpperCase()) : (paper.paper_type.toUpperCase())}</Typography>\n                                            </div>\n                                                        <Table className=\"\" aria-label=\"simple table\">\n                                                            <TableBody style={{width: '100%'}}>\n                                                                {paper.tasks && paper.tasks.map(task => {\n\n                                                                           let dueDate = new Date(task.due);\n                                                                           let doneDate = new Date(task.done);\n                                                                            let taskDate = dueDate.getDate();\n                                                                            let dateDone = doneDate.getDate();\n                                                                            let taskMonth = dueDate.getMonth();\n                                                                            let monthDone = doneDate.getMonth();\n                                                                            let taskYear = dueDate.getFullYear();\n                                                                            let yearDone = doneDate.getFullYear();\n                                                                            let niceDate = this.pad(taskDate);\n                                                                            let niceDone = this.pad(dateDone);\n                                                                            {/* let prettierDate = this.prettyDate(niceDate); */}\n                                                                            {/* let prettierDone = this.prettyDate(niceDone); */}\n                                                                            let niceMonth = monthNames[taskMonth];\n                                                                            let niceMonthDone = monthNames[monthDone];\n\n                                                                            // todo PASS TITLE TO TASK OR ABSTRACT PAGE\n                                                                return (\n                                                                    <TableRow key={task.task}>\n                                                                        <StyledCell component=\"th\" scope=\"row\" className=\"\" style={{width: '10%'}}>{task.done !== null ?\n                                                                            <CheckCircleIcon style={{ fontSize: '2rem', color: 'green', marginRight: '1rem' }} /> : <CancelIcon style={{ fontSize: '2rem', color: 'red', marginRight: '1rem' }} />}</StyledCell>\n                                                                        <StyledCell align=\"left\" className=\"\">\n                                                                            <Link\n                                                                                href=\"/t/[id]/[taskType]\"\n                                                                                as={`/t/${paper.papercode}/${task.type}`} >\n                                                                                <Typography gutterBottom className=\"paper_task\" style={{width: '75%'}} >{task.task}</Typography>\n                                                                            </Link></StyledCell>\n                                                                        <StyledCell align=\"left\" className=\"paper_task-date\" style={{width: '26%'}}>{task.done == null ? 'Due' : niceDone + \" \" + niceMonthDone + \" \" + yearDone }</StyledCell>\n                                                                        <StyledCell align=\"left\" className=\"paper_task-date\" style={{width: '26%'}}>{niceDate + \" \" + niceMonth + \" \" + taskYear}</StyledCell>\n                                                                    </TableRow>\n                                                                )}\n                                                                )}\n                                                            </TableBody>\n                                                        </Table>\n                                        </StyledInfoArea>\n                                    </StyledBox>\n                                )) :\n                                <StyledBox>\n                                    <Typography gutterBottom className=\"authors-it\" style={{ fontSize: '2rem' }}>You haven't submitted any abstracts yet</Typography>\n                                </StyledBox>\n                        }\n                        <Typography gutterBottom className=\"authors\" style={{ fontSize: '2rem' }}>For more information, please visit <Link href=\"/authorsAreaInstructions\" ><a className=\"authors-bold\">Instructions & Templates</a></Link> or email <a className=\"authors-bold\" href=\"mailto:info@fisita.com\">info@eurobrake.net</a></Typography>\n\n                    </div>\n                </StyledPage>\n            </>\n\n        )\n\n    }\n}\n// ! STILL PUSHING TO HOME WHEN WE WANT TOPUSHTO aUTHORS AREA LOGIN => on fault\nAuthorsAreaDash.getInitialProps = async ctx => {\n    // We use `nextCookie` to get the cookie and pass the token to the frontend in the `props`.\n    const { logintoken } = cookies(ctx) || {};\n    const apiUrl = 'https://prelude.eurobrake.net/authors/dashboard ';\n    const redirectOnError = () =>\n        process.browser\n            ? Router.push('/')\n            : ctx.res.writeHead(301, { Location: '/' })\n    console.log('AAD', logintoken)\n    if (logintoken) {\n        try {\n            const response = await fetch(apiUrl, {\n                credentials: 'include',\n                cache: 'no-cache',\n                headers: {\n                    Authorization: 'Bearer ' + logintoken,\n                }\n\n            })\n            const data = await response.json()\n            console.log({ data })\n            // console.log('Authors response Data =>', data.status, data);\n            if (data.status === 'success') {\n                console.log('res.ok', data)\n                return { authorData: data }\n            }\n            else {\n                console.log('not reading success')\n                console.log('stringyfied', JSON.stringify(data))\n                // https://github.com/developit/unfetch#caveats\n                return redirectOnError()\n            }\n        } catch (error) {\n            // Implementation or Network error\n            console.log(error)\n            return await redirectOnError()\n        }\n    }\n\n}\n// ! local host editing\nexport default withAuthSync(AuthorsAreaDash)\n// export default AuthorsAreaDash\n\n\n// !\n// ?\n// *\n// todo"]},"metadata":{},"sourceType":"module"}