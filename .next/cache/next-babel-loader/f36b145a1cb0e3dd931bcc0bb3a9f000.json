{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/D.Hardiman/desktop/eurobrake/components/Popup.js\";\nvar __jsx = React.createElement;\nimport React, { createRef } from 'react';\nimport { Button } from './Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { GetForm, SendFile } from './forms/FormActions';\nexport default function FilePopup(props) {\n  const [open, setOpen] = React.useState(false);\n  const [csrf, setCsrf] = React.useState();\n  const fileInput = React.createRef();\n\n  const handleClickOpen = async () => {\n    await setOpen(true);\n    const getCsrf = await GetForm('https://prelude.eurobrake.net/upload');\n    await setCsrf(getCsrf);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const file = await fileInput.current.files[0];\n    await console.log({\n      file,\n      csrf\n    });\n    await SendFile({\n      file,\n      csrf\n    });\n    await alert(`Selected file - ${fileInput.current.files[0].name}`);\n  };\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, __jsx(Button, {\n    bcolor: \"#134381\",\n    background: \"#134381\",\n    br: \"100rem\",\n    padding: \"0.5rem 2rem\",\n    style: {\n      margin: \".5rem 0\"\n    },\n    fontSize: \"1.7rem\",\n    onClick: handleClickOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Upload File\"), __jsx(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, __jsx(DialogTitle, {\n    id: \"form-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Upload File\"), __jsx(DialogContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, __jsx(DialogContentText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Please do not exceed 50mb file size example\"), __jsx(\"input\", {\n    type: \"file\",\n    ref: fileInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  })), __jsx(DialogActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, __jsx(Button, {\n    onClick: handleClose,\n    value: \"cancel\",\n    color: \"#134381\",\n    bcolor: \"#134381\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Cancel\"), __jsx(Button, {\n    onClick: () => handleSubmit(e),\n    color: \"#134381\",\n    bcolor: \"#134381\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Submit\")))));\n}","map":{"version":3,"sources":["/mnt/c/Users/D.Hardiman/desktop/eurobrake/components/Popup.js"],"names":["React","createRef","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","GetForm","SendFile","FilePopup","props","open","setOpen","useState","csrf","setCsrf","fileInput","handleClickOpen","getCsrf","handleClose","handleSubmit","e","preventDefault","file","current","files","console","log","alert","name","margin"],"mappings":"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","sourcesContent":["import React, { createRef } from 'react';\nimport { Button } from './Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport {GetForm, SendFile} from './forms/FormActions';\n\n\nexport default function FilePopup(props) {\n  const [open, setOpen] = React.useState(false);\n  const [csrf, setCsrf] = React.useState();\n  const fileInput = React.createRef();\n\n  const handleClickOpen = async () => {\n   await setOpen(true);\n    const getCsrf = await GetForm('https://prelude.eurobrake.net/upload');\n   await  setCsrf(getCsrf);\n\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n\n  const handleSubmit = async (e) => { \n    e.preventDefault();\n    const file = await fileInput.current.files[0];\n    await console.log({file, csrf});\n    await SendFile({file, csrf});\n    await alert(\n      `Selected file - ${\n      fileInput.current.files[0].name\n      }`\n    );\n    \n  }\n\n  return (\n    <div>\n        <Button\n          bcolor=\"#134381\"\n          background=\"#134381\"\n          br=\"100rem\"\n          padding=\"0.5rem 2rem\"\n          style={{ margin: \".5rem 0\" }}\n          fontSize=\"1.7rem\"\n          onClick={handleClickOpen}>\n          Upload File\n      </Button>\n        <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <form>\n          <DialogTitle id=\"form-dialog-title\">Upload File</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              Please do not exceed 50mb file size example\n          </DialogContentText>\n            <input type=\"file\" ref={fileInput}/>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} value=\"cancel\" color=\"#134381\" bcolor=\"#134381\">\n              Cancel\n          </Button>\n            <Button  onClick={() => handleSubmit(e)} color=\"#134381\" bcolor=\"#134381\">\n              Submit\n          </Button>\n          </DialogActions>\n      </form>\n        </Dialog>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}