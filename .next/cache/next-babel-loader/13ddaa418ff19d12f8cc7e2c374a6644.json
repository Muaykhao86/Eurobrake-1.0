{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport FormBuilder from '../components/FormBuilder';\nimport fetch from 'isomorphic-unfetch';\nimport styled from 'styled-components';\nvar DemoDiv = styled.form.withConfig({\n  displayName: \"exhibitorsArea__DemoDiv\",\n  componentId: \"sc-1h2s0md-0\"\n})([\"display:flex;flex-direction:column;align-self:center;margin-top:10rem;max-width:\", \";\"], function (props) {\n  return props.theme.maxWidth;\n});\nvar Demo = styled.h1.withConfig({\n  displayName: \"exhibitorsArea__Demo\",\n  componentId: \"sc-1h2s0md-1\"\n})([\"padding:10rem;margin:5rem;color:orangered;\"]);\n\nvar ExhibitorsArea =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ExhibitorsArea, _React$Component);\n\n  function ExhibitorsArea(props) {\n    var _this;\n\n    _classCallCheck(this, ExhibitorsArea);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ExhibitorsArea).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"saveToState\", function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\",\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var formData;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                console.log('click');\n                formData = {\n                  username: _this.state.username,\n                  password: _this.state.password\n                }; // let res = await fetch('https://prelude.eurobrake.net/login', {\n                //         method: 'POST',\n                //         credentials: 'include',\n                //         body: JSON.stringify(formData)\n                //     });\n                // const data = await res.json().catch(error => console.log(error));\n                // console.log(data);\n                // return {\n                //     loggedIn: data \n                //     }\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _this.state = {\n      username: '',\n      password: '',\n      loggedIn: false\n    };\n    return _this;\n  }\n\n  _createClass(ExhibitorsArea, [{\n    key: \"render\",\n    value: function render() {\n      console.log(this.props);\n      var loggedIn = this.state.loggedIn;\n      var form = this.props.form.form;\n      return __jsx(DemoDiv, null, loggedIn ? __jsx(DemoDiv, null, __jsx(\"h1\", null, \"You are logged in!!!!\")) : __jsx(DemoDiv, {\n        onSubmit: this.onSubmit\n      }, __jsx(\"div\", {\n        className: \"\"\n      }, __jsx(\"label\", {\n        htmlFor: \"label\"\n      }, form[0].label), __jsx(\"input\", {\n        type: \"text\",\n        name: form[0].name,\n        onChange: this.saveToState,\n        value: this.state.username\n      })), __jsx(\"div\", {\n        className: \"\"\n      }, __jsx(\"label\", {\n        htmlFor: \"label\"\n      }, form[1].label), __jsx(\"input\", {\n        type: \"password\",\n        name: form[1].name,\n        onChange: this.saveToState,\n        value: this.state.password\n      })), __jsx(\"input\", {\n        type: \"submit\",\n        value: \"Submit\"\n      })));\n    }\n  }]);\n\n  return ExhibitorsArea;\n}(React.Component); // action=\"//2019.eurobrake.net/exhibition/exhibitors/login\" SHOULD BE LOGIN FORM FOR EXHIBITORS\n\n\nexport { ExhibitorsArea as default };\nExhibitorsArea.getInitialProps =\n/*#__PURE__*/\n_asyncToGenerator(\n/*#__PURE__*/\n_regeneratorRuntime.mark(function _callee2() {\n  var res, data;\n  return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return fetch('https://prelude.eurobrake.net/login');\n\n        case 2:\n          res = _context2.sent;\n          _context2.next = 5;\n          return res.json()[\"catch\"](function (error) {\n            return console.log(error);\n          });\n\n        case 5:\n          data = _context2.sent;\n          ;\n          return _context2.abrupt(\"return\", {\n            form: data\n          });\n\n        case 8:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _callee2);\n}));","map":null,"metadata":{},"sourceType":"module"}