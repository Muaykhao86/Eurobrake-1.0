{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/danielhardiman/Desktop/Eurobrake-1.0/components/Popup.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { createRef } from 'react';\nimport { Button } from './Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { GetForm, SendFile } from './forms/FormActions';\nexport default function FilePopup(props) {\n  _s();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      csrf = _React$useState4[0],\n      setCsrf = _React$useState4[1];\n\n  var fileInput = React.createRef();\n\n  var handleClickOpen = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var getCsrf;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return setOpen(true);\n\n            case 2:\n              _context.next = 4;\n              return GetForm('https://prelude.eurobrake.net/upload');\n\n            case 4:\n              getCsrf = _context.sent;\n              _context.next = 7;\n              return setCsrf(getCsrf);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleClickOpen() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      var file;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              e.preventDefault();\n              _context2.next = 3;\n              return fileInput.current.files[0];\n\n            case 3:\n              file = _context2.sent;\n              _context2.next = 6;\n              return console.log({\n                file: file,\n                csrf: csrf\n              });\n\n            case 6:\n              _context2.next = 8;\n              return SendFile({\n                file: file,\n                csrf: csrf\n              });\n\n            case 8:\n              _context2.next = 10;\n              return alert(\"Selected file - \".concat(fileInput.current.files[0].name));\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, __jsx(Button, {\n    bcolor: \"#134381\",\n    background: \"#134381\",\n    br: \"100rem\",\n    padding: \"0.5rem 2rem\",\n    style: {\n      margin: \".5rem 0\"\n    },\n    fontSize: \"1.7rem\",\n    onClick: handleClickOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"Upload File\"), __jsx(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, __jsx(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, __jsx(DialogTitle, {\n    id: \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, \"Upload File\"), __jsx(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, __jsx(DialogContentText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"Please do not exceed 50mb file size example\"), __jsx(\"input\", {\n    type: \"file\",\n    ref: fileInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  })), __jsx(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    onClick: handleClose,\n    value: \"cancel\",\n    color: \"#134381\",\n    bcolor: \"#134381\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"Cancel\"), __jsx(Button, {\n    onClick: function onClick() {\n      return handleSubmit(e);\n    },\n    color: \"#134381\",\n    bcolor: \"#134381\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Submit\")))));\n}\n\n_s(FilePopup, \"D/sNY7y1sThtjVHB20uYXZgrfhI=\");\n\n_c = FilePopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilePopup\");","map":{"version":3,"sources":["/Users/danielhardiman/Desktop/Eurobrake-1.0/components/Popup.js"],"names":["React","createRef","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","GetForm","SendFile","FilePopup","props","useState","open","setOpen","csrf","setCsrf","fileInput","handleClickOpen","getCsrf","handleClose","handleSubmit","e","preventDefault","current","files","file","console","log","alert","name","margin"],"mappings":"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","sourcesContent":["import React, { createRef } from 'react';\nimport { Button } from './Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport {GetForm, SendFile} from './forms/FormActions';\n\n\nexport default function FilePopup(props) {\n  const [open, setOpen] = React.useState(false);\n  const [csrf, setCsrf] = React.useState();\n  const fileInput = React.createRef();\n\n  const handleClickOpen = async () => {\n   await setOpen(true);\n    const getCsrf = await GetForm('https://prelude.eurobrake.net/upload');\n   await  setCsrf(getCsrf);\n\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n\n  const handleSubmit = async (e) => { \n    e.preventDefault();\n    const file = await fileInput.current.files[0];\n    await console.log({file, csrf});\n    await SendFile({file, csrf});\n    await alert(\n      `Selected file - ${\n      fileInput.current.files[0].name\n      }`\n    );\n    \n  }\n\n  return (\n    <div>\n        <Button\n          bcolor=\"#134381\"\n          background=\"#134381\"\n          br=\"100rem\"\n          padding=\"0.5rem 2rem\"\n          style={{ margin: \".5rem 0\" }}\n          fontSize=\"1.7rem\"\n          onClick={handleClickOpen}>\n          Upload File\n      </Button>\n        <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <form>\n          <DialogTitle id=\"form-dialog-title\">Upload File</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              Please do not exceed 50mb file size example\n          </DialogContentText>\n            <input type=\"file\" ref={fileInput}/>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} value=\"cancel\" color=\"#134381\" bcolor=\"#134381\">\n              Cancel\n          </Button>\n            <Button  onClick={() => handleSubmit(e)} color=\"#134381\" bcolor=\"#134381\">\n              Submit\n          </Button>\n          </DialogActions>\n      </form>\n        </Dialog>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}